var ft=Object.defineProperty;var ct=(t,e,n)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>(ct(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function A(){}const Se=t=>t;function Le(t,e){for(const n in e)t[n]=e[n];return t}function Qe(t){return t()}function Re(){return Object.create(null)}function H(t){t.forEach(Qe)}function Me(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null){for(const r of e)r(void 0);return A}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Be(t,e,n){t.$$.on_destroy.push(dt(e,n))}function pt(t,e,n){return t.set(n),e}const Xe=typeof window<"u";let Ze=Xe?()=>window.performance.now():()=>Date.now(),Te=Xe?t=>requestAnimationFrame(t):A;const se=new Set;function xe(t){se.forEach(e=>{e.c(t)||(se.delete(e),e.f())}),se.size!==0&&Te(xe)}function et(t){let e;return se.size===0&&Te(xe),{promise:new Promise(n=>{se.add(e={c:t,f:n})}),abort(){se.delete(e)}}}function m(t,e){t.appendChild(e)}function tt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _t(t){const e=w("style");return e.textContent="/* empty */",mt(tt(t),e),e.sheet}function mt(t,e){return m(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function E(){return J(" ")}function ht(){return J("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ee(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function gt(t){return Array.from(t.childNodes)}function nt(t,e){e=""+e,t.data!==e&&(t.data=e)}function te(t,e){t.value=e??""}function rt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const he=new Map;let ge=0;function yt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function bt(t,e){const n={stylesheet:_t(e),rules:{}};return he.set(t,n),n}function Ge(t,e,n,r,i,l,o,s=0){const u=16.666/r;let f=`{
`;for(let g=0;g<=1;g+=u){const a=e+(n-e)*l(g);f+=g*100+`%{${o(a,1-a)}}
`}const c=f+`100% {${o(n,1-n)}}
}`,d=`__svelte_${yt(c)}_${s}`,p=tt(t),{stylesheet:v,rules:h}=he.get(p)||bt(p,t);h[d]||(h[d]=!0,v.insertRule(`@keyframes ${d} ${c}`,v.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${d} ${r}ms linear ${i}ms 1 both`,ge+=1,d}function kt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ge-=i,ge||vt())}function vt(){Te(()=>{ge||(he.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&D(e)}),he.clear())})}let de;function ae(t){de=t}function it(){if(!de)throw new Error("Function called outside component initialization");return de}function Ae(t){it().$$.on_mount.push(t)}function fe(){const t=it();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=rt(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const oe=[],re=[];let ue=[];const ze=[],wt=Promise.resolve();let Fe=!1;function $t(){Fe||(Fe=!0,wt.then(lt))}function Q(t){ue.push(t)}const Ce=new Set;let ie=0;function lt(){if(ie!==0)return;const t=de;do{try{for(;ie<oe.length;){const e=oe[ie];ie++,ae(e),Ct(e.$$)}}catch(e){throw oe.length=0,ie=0,e}for(ae(null),oe.length=0,ie=0;re.length;)re.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];Ce.has(n)||(Ce.add(n),n())}ue.length=0}while(oe.length);for(;ze.length;)ze.pop()();Fe=!1,Ce.clear(),ae(t)}function Ct(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function It(t){const e=[],n=[];ue.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ue=e}let ce;function Et(){return ce||(ce=Promise.resolve(),ce.then(()=>{ce=null})),ce}function Ie(t,e,n){t.dispatchEvent(rt(`${e?"intro":"outro"}${n}`))}const me=new Set;let V;function pe(){V={r:0,c:[],p:V}}function _e(){V.r||H(V.c),V=V.p}function F(t,e){t&&t.i&&(me.delete(t),t.i(e))}function M(t,e,n,r){if(t&&t.o){if(me.has(t))return;me.add(t),V.c.push(()=>{me.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Ft={duration:0};function x(t,e,n,r){let l=e(t,n,{direction:"both"}),o=r?0:1,s=null,u=null,f=null,c;function d(){f&&kt(t,f)}function p(h,k){const g=h.b-o;return k*=Math.abs(g),{a:o,b:h.b,d:g,duration:k,start:h.start,end:h.start+k,group:h.group}}function v(h){const{delay:k=0,duration:g=300,easing:a=Se,tick:_=A,css:C}=l||Ft,T={start:Ze()+k,b:h};h||(T.group=V,V.r+=1),"inert"in t&&(h?c!==void 0&&(t.inert=c):(c=t.inert,t.inert=!0)),s||u?u=T:(C&&(d(),f=Ge(t,o,h,g,k,a,C)),h&&_(0,1),s=p(T,g),Q(()=>Ie(t,h,"start")),et(B=>{if(u&&B>u.start&&(s=p(u,g),u=null,Ie(t,s.b,"start"),C&&(d(),f=Ge(t,o,s.b,s.duration,0,a,l.css))),s){if(B>=s.end)_(o=s.b,1-o),Ie(t,s.b,"end"),u||(s.b?d():--s.group.r||H(s.group.c)),s=null;else if(B>=s.start){const b=B-s.start;o=s.a+s.d*a(b/s.duration),_(o,1-o)}}return!!(s||u)}))}return{run(h){Me(l)?Et().then(()=>{l=l({direction:h?"in":"out"}),v(h)}):v(h)},end(){d(),s=u=null}}}function ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Dt(t,e){t.d(1),e.delete(t.key)}function Ot(t,e){M(t,1,1,()=>{e.delete(t.key)})}function ot(t,e,n,r,i,l,o,s,u,f,c,d){let p=t.length,v=l.length,h=p;const k={};for(;h--;)k[t[h].key]=h;const g=[],a=new Map,_=new Map,C=[];for(h=v;h--;){const $=d(i,l,h),I=n($);let O=o.get(I);O?r&&C.push(()=>O.p($,e)):(O=f(I,$),O.c()),a.set(I,g[h]=O),I in k&&_.set(I,Math.abs(h-k[I]))}const T=new Set,B=new Set;function b($){F($,1),$.m(s,c),o.set($.key,$),c=$.first,v--}for(;p&&v;){const $=g[v-1],I=t[p-1],O=$.key,R=I.key;$===I?(c=$.first,p--,v--):a.has(R)?!o.has(O)||T.has(O)?b($):B.has(R)?p--:_.get(O)>_.get(R)?(B.add(O),b($)):(T.add(R),p--):(u(I,o),p--)}for(;p--;){const $=t[p];a.has($.key)||u($,o)}for(;v;)b(g[v-1]);return H(C),g}function q(t){t&&t.c()}function G(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Q(()=>{const l=t.$$.on_mount.map(Qe).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...l):H(l),t.$$.on_mount=[]}),i.forEach(Q)}function z(t,e){const n=t.$$;n.fragment!==null&&(It(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(t,e){t.$$.dirty[0]===-1&&(oe.push(t),$t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,i,l,o=null,s=[-1]){const u=de;ae(t);const f=t.$$={fragment:null,ctx:[],props:l,update:A,not_equal:i,bound:Re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Re(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let c=!1;if(f.ctx=n?n(t,e.props||{},(d,p,...v)=>{const h=v.length?v[0]:p;return f.ctx&&i(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),c&&St(t,d)),p}):[],f.update(),c=!0,H(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const d=gt(e.target);f.fragment&&f.fragment.l(d),d.forEach(D)}else f.fragment&&f.fragment.c();e.intro&&F(t.$$.fragment),G(t,e.target,e.anchor),lt()}ae(u)}class Z{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){z(this,1),this.$destroy=A}$on(e,n){if(!Me(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Mt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mt);function Ue(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function qe(t,e){let n,r=e[10],i,l;const o=()=>e[5](n,r),s=()=>e[5](null,r);function u(){return e[6](e[10])}return{key:t,first:null,c(){n=w("button"),y(n,"class","svelte-1bhaxd"),this.first=n},m(f,c){S(f,n,c),o(),i||(l=j(n,"click",u),i=!0)},p(f,c){e=f,r!==e[10]&&(s(),r=e[10],o())},d(f){f&&D(n),s(),i=!1,l()}}}function Bt(t){let e,n=[],r=new Map,i=ye(Array(7));const l=o=>o[10];for(let o=0;o<i.length;o+=1){let s=Ue(t,i,o),u=l(s);r.set(u,n[o]=qe(u,s))}return{c(){e=w("div");for(let o=0;o<n.length;o+=1)n[o].c();y(e,"class","svelte-1bhaxd")},m(o,s){S(o,e,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null)},p(o,[s]){s&3&&(i=ye(Array(7)),n=ot(n,s,l,1,o,i,r,e,Dt,qe,null,Ue))},i:A,o:A,d(o){o&&D(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Tt(t,e,n){const r=fe();let i=[];function l(){i.forEach(d=>d.disabled=!0)}function o(){i.forEach(d=>d.disabled=!1)}function s(d,p){d<0||d>6||n(0,i[d].disabled=p,i)}function u(d){d<0||d>6||r("buttonClick",{col:d})}function f(d,p){re[d?"unshift":"push"](()=>{i[p]=d,n(0,i)})}return[i,u,l,o,s,f,d=>u(d)]}class At extends Z{constructor(e){super(),X(this,e,Tt,Bt,Y,{disable:2,enable:3,setCol:4})}get disable(){return this.$$.ctx[2]}get enable(){return this.$$.ctx[3]}get setCol(){return this.$$.ctx[4]}}const le=[];function st(t,e=A){let n;const r=new Set;function i(s){if(Y(t,s)&&(t=s,n)){const u=!le.length;for(const f of r)f[1](),le.push(f,t);if(u){for(let f=0;f<le.length;f+=2)le[f][0](le[f+1]);le.length=0}}}function l(s){i(s(t))}function o(s,u=A){const f=[s,u];return r.add(f),r.size===1&&(n=e(i,l)||A),s(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function We(t){return Object.prototype.toString.call(t)==="[object Date]"}function Pt(t){const e=t-1;return e*e*e+1}function De(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,l)=>De(t[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(We(t)&&We(e)){t=t.getTime(),e=e.getTime();const l=e-t;return o=>new Date(t+o*l)}const r=Object.keys(e),i={};return r.forEach(l=>{i[l]=De(t[l],e[l])}),l=>{const o={};return r.forEach(s=>{o[s]=i[s](l)}),o}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Nt(t,e={}){const n=st(t);let r,i=t;function l(o,s){if(t==null)return n.set(t=o),Promise.resolve();i=o;let u=r,f=!1,{delay:c=0,duration:d=400,easing:p=Se,interpolate:v=De}=Le(Le({},e),s);if(d===0)return u&&(u.abort(),u=null),n.set(t=i),Promise.resolve();const h=Ze()+c;let k;return r=et(g=>{if(g<h)return!0;f||(k=v(t,o),typeof d=="function"&&(d=d(t,o)),f=!0),u&&(u.abort(),u=null);const a=g-h;return a>d?(n.set(t=o),!1):(n.set(t=k(p(a/d))),!0)}),r.promise}return{set:l,update:(o,s)=>l(o(i,t),s),subscribe:n.subscribe}}function jt(t){let e,n;return{c(){e=K("circle"),y(e,"cx",t[2]),y(e,"cy",t[1]),y(e,"r","45"),y(e,"fill",n=t[0]==="red"?"#E53734":"#04BEBE")},m(r,i){S(r,e,i)},p(r,[i]){i&2&&y(e,"cy",r[1]),i&1&&n!==(n=r[0]==="red"?"#E53734":"#04BEBE")&&y(e,"fill",n)},i:A,o:A,d(r){r&&D(e)}}}function Lt(t,e,n){let r,{row:i}=e,{col:l}=e,{color:o}=e,s=50+100*l,u=Nt(50,{delay:50,easing:Pt,duration:(f,c)=>Math.sqrt(Math.abs(f-c)*400)});return Be(t,u,f=>n(1,r=f)),u.set(150+100*(5-i)),t.$$set=f=>{"row"in f&&n(4,i=f.row),"col"in f&&n(5,l=f.col),"color"in f&&n(0,o=f.color)},[o,r,s,u,i,l]}class Rt extends Z{constructor(e){super(),X(this,e,Lt,jt,Y,{row:4,col:5,color:0})}}function Gt(t){let e=Ut(t);return e!==0||(e=qt(t),e!==0)||(e=Wt(t),e!==0)||(e=Jt(t)),e}function zt(t,e){for(let n=0;n<e.length;n++)if(e[n][t]===0)return n;return 6}function Ut(t){for(let e=0;e<3;e++)e:for(let n=0;n<7;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n]!==r)continue e;return r}}return 0}function qt(t){for(let e=0;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e][n+i]!==r)continue e;return r}}return 0}function Wt(t){for(let e=0;e<3;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n+i]!==r)continue e;return r}}return 0}function Jt(t){for(let e=3;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e-i][n+i]!==r)continue e;return r}}return 0}function Je(t,e,n){const r=t.slice();return r[19]=e[n].row,r[20]=e[n].col,r[21]=e[n].color,r[23]=n,r}function He(t,e){let n,r,i;return r=new Rt({props:{row:e[19],col:e[20],color:e[21]}}),{key:t,first:null,c(){n=ht(),q(r.$$.fragment),this.first=n},m(l,o){S(l,n,o),G(r,l,o),i=!0},p(l,o){e=l;const s={};o&2&&(s.row=e[19]),o&2&&(s.col=e[20]),o&2&&(s.color=e[21]),r.$set(s)},i(l){i||(F(r.$$.fragment,l),i=!0)},o(l){M(r.$$.fragment,l),i=!1},d(l){l&&D(n),z(r,l)}}}function Ht(t){let e,n,r,i,l,o,s,u=[],f=new Map,c,d,p,v,h=ye(t[1]);const k=a=>a[23];for(let a=0;a<h.length;a+=1){let _=Je(t,h,a),C=k(_);f.set(C,u[a]=He(C,_))}let g={};return p=new At({props:g}),t[9](p),p.$on("buttonClick",t[10]),{c(){e=K("svg"),n=K("defs"),r=K("pattern"),i=K("circle"),l=K("mask"),o=K("rect"),s=K("rect");for(let a=0;a<u.length;a+=1)u[a].c();c=K("rect"),d=E(),q(p.$$.fragment),y(i,"cx","50"),y(i,"cy","50"),y(i,"r","45"),y(i,"fill","black"),y(r,"id","cell-pattern"),y(r,"patternUnits","userSpaceOnUse"),y(r,"width","100"),y(r,"height","100"),y(o,"width","700"),y(o,"height","700"),y(o,"fill","white"),y(s,"width","700"),y(s,"height","700"),y(s,"fill","url(#cell-pattern)"),y(l,"id","cell-mask"),y(c,"x","0"),y(c,"y","100"),y(c,"height","600"),y(c,"width","700"),y(c,"fill","#303030"),y(c,"mask","url(#cell-mask)"),y(e,"viewBox","0 0 700 700"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"class","svelte-5r9yz0")},m(a,_){S(a,e,_),m(e,n),m(n,r),m(r,i),m(n,l),m(l,o),m(l,s);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(e,null);m(e,c),S(a,d,_),G(p,a,_),v=!0},p(a,[_]){_&2&&(h=ye(a[1]),pe(),u=ot(u,_,k,1,a,h,f,e,Ot,He,c,Je),_e());const C={};p.$set(C)},i(a){if(!v){for(let _=0;_<h.length;_+=1)F(u[_]);F(p.$$.fragment,a),v=!0}},o(a){for(let _=0;_<u.length;_+=1)M(u[_]);M(p.$$.fragment,a),v=!1},d(a){a&&(D(e),D(d));for(let _=0;_<u.length;_+=1)u[_].d();t[9](null),z(p,a)}}}function Yt(t,e,n){let r=fe(),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,s=[],u,f=!1;function c(){n(1,s=[]),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,f=!1,u.enable()}function d(){u.disable()}function p(){if(!f)for(let b=0;b<7;b++)u.setCol(b,i[b])}function v(){return l}function h(){return f}function k(b){u.disable();let $=zt(b,l);$>5&&a("Played Piece in full column"),$===5&&(i[b]=!0);let I=o%2===0?1:-1;l[$][b]=I,C($,b,I===1?"red":"blue"),o++;let O=Gt(l);if(O!==0){f=!0,g(`${O==1?"Red":"Blue"} Wins!`);return}o==42&&(f=!0,g("Draw"))}function g(b){r("gameEnd",{message:b})}function a(b=""){r("error",{message:b})}function _(b){r("playerMove",{col:b})}function C(b,$,I){n(1,s=[...s,{row:b,col:$,color:I}])}function T(b){re[b?"unshift":"push"](()=>{u=b,n(2,u)})}return[k,s,u,_,c,d,p,v,h,T,b=>{k(b.detail.col),_(b.detail.col)}]}class Pe extends Z{constructor(e){super(),X(this,e,Yt,Ht,Y,{clear:4,disableButtons:5,enableButtons:6,getBoard:7,gameOver:8,playMove:0})}get clear(){return this.$$.ctx[4]}get disableButtons(){return this.$$.ctx[5]}get enableButtons(){return this.$$.ctx[6]}get getBoard(){return this.$$.ctx[7]}get gameOver(){return this.$$.ctx[8]}get playMove(){return this.$$.ctx[0]}}function Kt(t){let e,n,r,i,l,o,s,u,f;return{c(){e=w("div"),n=w("h2"),r=J(t[0]),i=E(),l=w("button"),l.textContent="Play Again",o=E(),s=w("button"),s.textContent="Back To Menu",y(e,"id","container"),y(e,"class","svelte-1e3k5zy")},m(c,d){S(c,e,d),m(e,n),m(n,r),m(e,i),m(e,l),m(e,o),m(e,s),u||(f=[j(l,"click",t[1]),j(s,"click",t[2])],u=!0)},p(c,[d]){d&1&&nt(r,c[0])},i:A,o:A,d(c){c&&D(e),u=!1,H(f)}}}function Vt(t,e,n){let{gameText:r}=e,i=fe();function l(){i("replayClicked")}function o(){i("menuClicked")}return t.$$set=s=>{"gameText"in s&&n(0,r=s.gameText)},[r,l,o]}class Ne extends Z{constructor(e){super(),X(this,e,Vt,Kt,Y,{gameText:0})}}function Ye(t){let e,n;return e=new Ne({props:{gameText:t[2]}}),e.$on("replayClicked",t[3]),e.$on("menuClicked",t[4]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Qt(t){let e,n,r,i,l,o=t[1]&&Ye(t),s={};return n=new Pe({props:s}),t[5](n),n.$on("playerMove",t[6]),n.$on("error",t[7]),n.$on("gameEnd",t[8]),{c(){o&&o.c(),e=E(),q(n.$$.fragment),r=E(),i=w("div")},m(u,f){o&&o.m(u,f),S(u,e,f),G(n,u,f),S(u,r,f),S(u,i,f),l=!0},p(u,[f]){u[1]?o?(o.p(u,f),f&2&&F(o,1)):(o=Ye(u),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(pe(),M(o,1,1,()=>{o=null}),_e());const c={};n.$set(c)},i(u){l||(F(o),F(n.$$.fragment,u),l=!0)},o(u){M(o),M(n.$$.fragment,u),l=!1},d(u){u&&(D(e),D(r),D(i)),o&&o.d(u),t[5](null),z(n,u)}}}function Xt(t,e,n){fe();let r,i=!1,l="";function o(){n(1,i=!1),r.clear()}function s(p){ne.call(this,t,p)}function u(p){re[p?"unshift":"push"](()=>{r=p,n(0,r)})}const f=()=>r.enableButtons();function c(p){ne.call(this,t,p)}return[r,i,l,o,s,u,f,c,p=>{n(2,l=p.detail.message),n(1,i=!0)}]}class Zt extends Z{constructor(e){super(),X(this,e,Xt,Qt,Y,{})}}const be=st({mode:0,modeSettings:{}});function xt(t){let e,n,r,i,l,o,s,u,f,c,d,p,v,h,k,g,a,_,C,T,B,b,$=`?id=${t[0].id}&fir=${t[0].playerIsFirst===!0?0:1}`,I,O,R,P;return O=Ee(t[8][1]),{c(){e=w("div"),n=w("h3"),n.textContent="Choose Your Color",r=E(),i=w("label"),l=w("input"),s=J(`
        Red`),u=E(),f=w("label"),c=w("input"),p=J(`
        Blue`),v=E(),h=w("h3"),h.textContent="Game ID",k=E(),g=w("p"),a=E(),_=w("button"),_.textContent="Get ID",C=E(),T=w("button"),T.textContent="Copy URL for opponent",B=E(),b=w("span"),I=J($),l.checked=o=t[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,te(l,l.__value),c.checked=d=t[0].playerIsFirst===!1,y(c,"name","color"),y(c,"type","radio"),c.__value=!1,te(c,c.__value),y(g,"contenteditable","false"),t[0].id===void 0&&Q(()=>t[15].call(g)),y(e,"class","settingsContainer"),O.p(l,c)},m(N,W){S(N,e,W),m(e,n),m(e,r),m(e,i),m(i,l),l.checked=l.__value===t[0].playerIsFirst,m(i,s),m(e,u),m(e,f),m(f,c),c.checked=c.__value===t[0].playerIsFirst,m(f,p),m(e,v),m(e,h),m(e,k),m(e,g),t[0].id!==void 0&&(g.innerText=t[0].id),m(e,a),m(e,_),m(e,C),m(e,T),m(e,B),m(e,b),m(b,I),R||(P=[j(l,"change",t[13]),j(c,"change",t[14]),j(g,"input",t[15]),j(_,"click",t[16]),j(T,"click",t[2])],R=!0)},p(N,W){W&1&&o!==(o=N[0].playerIsFirst===!0)&&(l.checked=o),W&1&&(l.checked=l.__value===N[0].playerIsFirst),W&1&&d!==(d=N[0].playerIsFirst===!1)&&(c.checked=d),W&1&&(c.checked=c.__value===N[0].playerIsFirst),W&1&&N[0].id!==g.innerText&&(g.innerText=N[0].id),W&1&&$!==($=`?id=${N[0].id}&fir=${N[0].playerIsFirst===!0?0:1}`)&&nt(I,$)},d(N){N&&D(e),O.r(),R=!1,H(P)}}}function en(t){let e,n,r,i,l,o,s,u,f,c,d,p,v,h,k,g,a,_,C,T,B,b,$,I,O,R,P,N,W,ke,ve,we,je;return ke=Ee(t[8][0]),ve=Ee(t[8][1]),{c(){e=w("div"),n=w("h3"),n.textContent="Choose Your Color",r=E(),i=w("label"),l=w("input"),s=J(`
        Red`),u=E(),f=w("label"),c=w("input"),p=J(`
        Blue`),v=E(),h=w("h3"),h.textContent="AI Difficulty",k=E(),g=w("label"),a=w("input"),C=J(`
        Easy`),T=E(),B=w("label"),b=w("input"),I=J(`
        Medium`),O=E(),R=w("label"),P=w("input"),W=J(`
        Hard`),l.checked=o=t[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,te(l,l.__value),c.checked=d=t[0].playerIsFirst===!1,y(c,"name","color"),y(c,"type","radio"),c.__value=!1,te(c,c.__value),a.checked=_=t[0].botDiff==="easy",y(a,"name","AiDifficulty"),y(a,"type","radio"),a.__value="easy",te(a,a.__value),b.checked=$=t[0].botDiff==="medium",y(b,"name","AiDifficulty"),y(b,"type","radio"),b.__value="medium",te(b,b.__value),P.checked=N=t[0].botDiff==="hard",y(P,"name","AiDifficulty"),y(P,"type","radio"),P.__value="hard",te(P,P.__value),y(e,"class","settingsContainer"),ke.p(a,b,P),ve.p(l,c)},m(L,U){S(L,e,U),m(e,n),m(e,r),m(e,i),m(i,l),l.checked=l.__value===t[0].playerIsFirst,m(i,s),m(e,u),m(e,f),m(f,c),c.checked=c.__value===t[0].playerIsFirst,m(f,p),m(e,v),m(e,h),m(e,k),m(e,g),m(g,a),a.checked=a.__value===t[0].botDiff,m(g,C),m(e,T),m(e,B),m(B,b),b.checked=b.__value===t[0].botDiff,m(B,I),m(e,O),m(e,R),m(R,P),P.checked=P.__value===t[0].botDiff,m(R,W),we||(je=[j(l,"change",t[7]),j(c,"change",t[9]),j(a,"change",t[10]),j(b,"change",t[11]),j(P,"change",t[12])],we=!0)},p(L,U){U&1&&o!==(o=L[0].playerIsFirst===!0)&&(l.checked=o),U&1&&(l.checked=l.__value===L[0].playerIsFirst),U&1&&d!==(d=L[0].playerIsFirst===!1)&&(c.checked=d),U&1&&(c.checked=c.__value===L[0].playerIsFirst),U&1&&_!==(_=L[0].botDiff==="easy")&&(a.checked=_),U&1&&(a.checked=a.__value===L[0].botDiff),U&1&&$!==($=L[0].botDiff==="medium")&&(b.checked=$),U&1&&(b.checked=b.__value===L[0].botDiff),U&1&&N!==(N=L[0].botDiff==="hard")&&(P.checked=N),U&1&&(P.checked=P.__value===L[0].botDiff)},d(L){L&&D(e),ke.r(),ve.r(),we=!1,H(je)}}}function tn(t){let e,n,r,i,l,o,s,u,f,c,d,p;function v(g,a){if(g[1]==1)return en;if(g[1]==3)return xt}let h=v(t),k=h&&h(t);return{c(){e=w("div"),n=w("div"),r=w("button"),r.textContent="Single Player",i=E(),l=w("button"),l.textContent="Local Multiplayer",o=E(),s=w("button"),s.textContent="Online Multiplayer",u=E(),k&&k.c(),f=E(),c=w("button"),c.textContent="Play",y(n,"class","modeButtons svelte-19th53m"),y(e,"id","container"),y(e,"class","svelte-19th53m")},m(g,a){S(g,e,a),m(e,n),m(n,r),m(n,i),m(n,l),m(n,o),m(n,s),m(e,u),k&&k.m(e,null),m(e,f),m(e,c),d||(p=[j(r,"click",t[4]),j(l,"click",t[5]),j(s,"click",t[6]),j(c,"click",t[3])],d=!0)},p(g,[a]){h===(h=v(g))&&k?k.p(g,a):(k&&k.d(1),k=h&&h(g),k&&(k.c(),k.m(e,f)))},i:A,o:A,d(g){g&&D(e),k&&k.d(),d=!1,H(p)}}}async function nn(){return(await(await fetch("/multiplayer/create_game",{method:"POST",headers:{"Content-Type":"0"}})).json()).id}function rn(t,e,n){let r;Be(t,be,I=>n(17,r=I));let i={};i={playerIsFirst:!0,botDiff:"easy"};let l=1,o=new URLSearchParams(document.location.search),s=o.get("fir"),u=parseInt(o.get("id"),10);history.pushState(null,"",location.href.split("?")[0]),Ae(()=>{isNaN(u)?n(0,i={playerIsFirst:!0,botDiff:"easy"}):(n(0,i={id:u,playerIsFirst:s==="1"}),n(1,l=3))});function f(){let I=window.location.href,O=`?id=${i.id}&fir=${i.playerIsFirst===!0?0:1}`;navigator.clipboard.writeText(I+O)}function c(){pt(be,r={mode:l,modeSettings:i},r)}const d=[[],[]],p=()=>{n(1,l=1),n(0,i={playerIsFirst:!0,botDiff:"easy"})},v=()=>{n(1,l=2),n(0,i={})},h=()=>{n(1,l=3),n(0,i={id:"None",playerIsFirst:!0})};function k(){i.playerIsFirst=this.__value,n(0,i)}function g(){i.playerIsFirst=this.__value,n(0,i)}function a(){i.botDiff=this.__value,n(0,i)}function _(){i.botDiff=this.__value,n(0,i)}function C(){i.botDiff=this.__value,n(0,i)}function T(){i.playerIsFirst=this.__value,n(0,i)}function B(){i.playerIsFirst=this.__value,n(0,i)}function b(){i.id=this.innerText,n(0,i)}return[i,l,f,c,p,v,h,k,d,g,a,_,C,T,B,b,()=>{nn().then(I=>n(0,i.id=I,i))}]}class ln extends Z{constructor(e){super(),X(this,e,rn,tn,Y,{})}}function Ke(t){let e,n;return e=new Ne({props:{gameText:t[1]}}),e.$on("replayClicked",t[6]),e.$on("menuClicked",t[7]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&2&&(l.gameText=r[1]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function on(t){let e,n,r,i=t[0]&&Ke(t),l={};return n=new Pe({props:l}),t[8](n),n.$on("playerMove",t[9]),n.$on("error",t[10]),n.$on("gameEnd",t[11]),{c(){i&&i.c(),e=E(),q(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),G(n,o,s),r=!0},p(o,[s]){o[0]?i?(i.p(o,s),s&1&&F(i,1)):(i=Ke(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),_e());const u={};n.$set(u)},i(o){r||(F(i),F(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[8](null),z(n,o)}}}function sn(t,e,n){let{botDiff:r="easy"}=e,{playerIsFirst:i=!0}=e,l=fe(),o=!1,s="",u;Ae(()=>{i||u.disableButtons()});async function f(){let a=await fetch("/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:u.getBoard(),difficulty:r})});if(!a.ok){console.log("Could not get AI move from server"),c("Could not get AI move from server");return}let C=(await a.json()).move;u.playMove(C),u.enableButtons()}function c(a=""){l("error",{message:a})}const d=()=>{n(0,o=!1),u.clear()};function p(a){ne.call(this,t,a)}function v(a){re[a?"unshift":"push"](()=>{u=a,n(2,u)})}const h=()=>{u.gameOver()||f()};function k(a){ne.call(this,t,a)}const g=a=>{n(1,s=a.detail.message),n(0,o=!0)};return t.$$set=a=>{"botDiff"in a&&n(4,r=a.botDiff),"playerIsFirst"in a&&n(5,i=a.playerIsFirst)},[o,s,u,f,r,i,d,p,v,h,k,g]}class un extends Z{constructor(e){super(),X(this,e,sn,on,Y,{botDiff:4,playerIsFirst:5})}}function Ve(t){let e,n;return e=new Ne({props:{gameText:t[2]}}),e.$on("replayClicked",t[7]),e.$on("menuClicked",t[8]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function fn(t){let e,n,r,i=t[1]&&Ve(t),l={};return n=new Pe({props:l}),t[9](n),n.$on("playerMove",t[10]),n.$on("error",t[11]),n.$on("gameEnd",t[12]),{c(){i&&i.c(),e=E(),q(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),G(n,o,s),r=!0},p(o,[s]){o[1]?i?(i.p(o,s),s&2&&F(i,1)):(i=Ve(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),_e());const u={};n.$set(u)},i(o){r||(F(i),F(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[9](null),z(n,o)}}}function Oe(t,e){let n=[];for(let r=0;r<7;r++)for(let i=0;i<6;i++)if(e[i][r]!==t[i][r]){if(t[i][r]!==0)return[];n.push(r)}return n}function cn(t,e,n){let{playerIsFirst:r=!0}=e,{gameId:i=-1}=e;const l=fe();let o,s=!1,u="";console.log(r),console.log(i),Ae(()=>{r?o.enableButtons():(o.disableButtons(),d())});function f(_=""){l("error",{message:_})}async function c(_){let C=await fetch("/multiplayer/make_move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_move:_,is_first:r,game_id:i})});C.ok||(console.log(await C.blob()),f("Could not get opponent move")),o.gameOver()||d()}async function d(){let _=await fetch("/multiplayer/get_board",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:i,current_board:o.getBoard()})});if(!_.ok){f("Could not get opponents move");return}let T=(await _.json()).board,B=Oe(o.getBoard(),T);if(B.length!==1){f("Unexpected moves from server");return}o.playMove(B[0]),o.enableButtons()}const p=()=>{n(1,s=!1),o.clear()};function v(_){ne.call(this,t,_)}function h(_){re[_?"unshift":"push"](()=>{o=_,n(0,o)})}const k=_=>c(_.detail.col);function g(_){ne.call(this,t,_)}const a=_=>{n(2,u=_.detail.message),n(1,s=!0)};return t.$$set=_=>{"playerIsFirst"in _&&n(4,r=_.playerIsFirst),"gameId"in _&&n(5,i=_.gameId)},[o,s,u,c,r,i,Oe,p,v,h,k,g,a]}class an extends Z{constructor(e){super(),X(this,e,cn,fn,Y,{playerIsFirst:4,gameId:5,extractNewMoves:6})}get extractNewMoves(){return Oe}}function ee(t,{delay:e=0,duration:n=400,easing:r=Se}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:l=>`opacity: ${l*i}`}}function dn(t){let e,n,r,i;return n=new an({props:{playerIsFirst:t[0].modeSettings.playerIsFirst,gameId:t[0].modeSettings.id}}),n.$on("menuClicked",t[1]),n.$on("gameEnd(gameEnd)",t[2]),{c(){e=w("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),o&1&&(s.gameId=l[0].modeSettings.id),n.$set(s)},i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function pn(t){let e,n,r,i;return n=new Zt({}),n.$on("error",ut),n.$on("menuClicked",t[1]),{c(){e=w("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p:A,i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function _n(t){let e,n,r,i;return n=new un({props:{botDiff:t[0].modeSettings.botDiff,playerIsFirst:t[0].modeSettings.playerIsFirst}}),n.$on("error",ut),n.$on("menuClicked",t[1]),{c(){e=w("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.botDiff=l[0].modeSettings.botDiff),o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),n.$set(s)},i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function mn(t){let e,n,r,i;return n=new ln({}),{c(){e=w("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p:A,i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function hn(t){let e,n,r,i,l,o,s,u;const f=[mn,_n,pn,dn],c=[];function d(p,v){return p[0].mode===0?0:p[0].mode===1?1:p[0].mode===2?2:p[0].mode===3?3:-1}return~(o=d(t))&&(s=c[o]=f[o](t)),{c(){e=w("head"),e.innerHTML="<title>Four In a Row</title>",n=E(),r=w("main"),i=w("h1"),i.textContent="Four In a Row",l=E(),s&&s.c(),y(r,"class","svelte-1dnmptc")},m(p,v){S(p,e,v),S(p,n,v),S(p,r,v),m(r,i),m(r,l),~o&&c[o].m(r,null),u=!0},p(p,[v]){let h=o;o=d(p),o===h?~o&&c[o].p(p,v):(s&&(pe(),M(c[h],1,1,()=>{c[h]=null}),_e()),~o?(s=c[o],s?s.p(p,v):(s=c[o]=f[o](p),s.c()),F(s,1),s.m(r,null)):s=null)},i(p){u||(F(s),u=!0)},o(p){M(s),u=!1},d(p){p&&(D(e),D(n),D(r)),~o&&c[o].d()}}}function ut(t){console.error(t.detail.message),alert("Error: Page will be refreshed"),location.reload()}function gn(t,e,n){let r;Be(t,be,o=>n(0,r=o));function i(){be.set({mode:0,modeSettings:{}})}function l(o){ne.call(this,t,o)}return[r,i,l]}class yn extends Z{constructor(e){super(),X(this,e,gn,hn,Y,{})}}new yn({target:document.getElementById("app")});
