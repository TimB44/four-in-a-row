var Je=Object.defineProperty;var Ke=(t,e,n)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pe=(t,e,n)=>(Ke(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function D(){}const Ve=t=>t;function ve(t,e){for(const n in e)t[n]=e[n];return t}function Be(t){return t()}function Ie(){return Object.create(null)}function H(t){t.forEach(Be)}function Me(t){return typeof t=="function"}function J(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Qe(t){return Object.keys(t).length===0}function Xe(t,...e){if(t==null){for(const i of e)i(void 0);return D}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function je(t,e,n){t.$$.on_destroy.push(Xe(e,n))}const Te=typeof window<"u";let Ze=Te?()=>window.performance.now():()=>Date.now(),Le=Te?t=>requestAnimationFrame(t):D;const ne=new Set;function Ne(t){ne.forEach(e=>{e.c(t)||(ne.delete(e),e.f())}),ne.size!==0&&Le(Ne)}function xe(t){let e;return ne.size===0&&Le(Ne),{promise:new Promise(n=>{ne.add(e={c:t,f:n})}),abort(){ne.delete(e)}}}function _(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function F(){return G(" ")}function et(){return G("")}function j(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _e(t){let e;return{p(...n){e=n,e.forEach(i=>t.push(i))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function tt(t){return Array.from(t.childNodes)}function nt(t,e){e=""+e,t.data!==e&&(t.data=e)}function K(t,e){t.value=e??""}function rt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let le;function ie(t){le=t}function Re(){if(!le)throw new Error("Function called outside component initialization");return le}function Ge(t){Re().$$.on_mount.push(t)}function ce(){const t=Re();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const l=rt(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}const te=[],z=[];let re=[];const Ee=[],it=Promise.resolve();let me=!1;function lt(){me||(me=!0,it.then(ze))}function se(t){re.push(t)}const he=new Set;let x=0;function ze(){if(x!==0)return;const t=le;do{try{for(;x<te.length;){const e=te[x];x++,ie(e),ot(e.$$)}}catch(e){throw te.length=0,x=0,e}for(ie(null),te.length=0,x=0;z.length;)z.pop()();for(let e=0;e<re.length;e+=1){const n=re[e];he.has(n)||(he.add(n),n())}re.length=0}while(te.length);for(;Ee.length;)Ee.pop()();me=!1,he.clear(),ie(t)}function ot(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(se)}}function st(t){const e=[],n=[];re.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),re=e}const oe=new Set;let V;function ge(){V={r:0,c:[],p:V}}function be(){V.r||H(V.c),V=V.p}function B(t,e){t&&t.i&&(oe.delete(t),t.i(e))}function N(t,e,n,i){if(t&&t.o){if(oe.has(t))return;oe.add(t),V.c.push(()=>{oe.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ut(t,e){t.d(1),e.delete(t.key)}function ct(t,e){N(t,1,1,()=>{e.delete(t.key)})}function qe(t,e,n,i,r,l,o,c,s,u,a,f){let d=t.length,v=l.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const p=[],b=new Map,k=new Map,S=[];for(h=v;h--;){const I=f(r,l,h),E=n(I);let C=o.get(E);C?i&&S.push(()=>C.p(I,e)):(C=u(E,I),C.c()),b.set(E,p[h]=C),E in m&&k.set(E,Math.abs(h-m[E]))}const P=new Set,w=new Set;function y(I){B(I,1),I.m(c,a),o.set(I.key,I),a=I.first,v--}for(;d&&v;){const I=p[v-1],E=t[d-1],C=I.key,A=E.key;I===E?(a=I.first,d--,v--):b.has(A)?!o.has(C)||P.has(C)?y(I):w.has(A)?d--:k.get(C)>k.get(A)?(w.add(C),y(I)):(P.add(A),d--):(s(E,o),d--)}for(;d--;){const I=t[d];b.has(I.key)||s(I,o)}for(;v;)y(p[v-1]);return H(S),p}function Y(t){t&&t.c()}function U(t,e,n){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),se(()=>{const l=t.$$.on_mount.map(Be).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...l):H(l),t.$$.on_mount=[]}),r.forEach(se)}function W(t,e){const n=t.$$;n.fragment!==null&&(st(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){t.$$.dirty[0]===-1&&(te.push(t),lt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(t,e,n,i,r,l,o=null,c=[-1]){const s=le;ie(t);const u=t.$$={fragment:null,ctx:[],props:l,update:D,not_equal:r,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ie(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};o&&o(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...v)=>{const h=v.length?v[0]:d;return u.ctx&&r(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),a&&ft(t,f)),d}):[],u.update(),a=!0,H(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const f=tt(e.target);u.fragment&&u.fragment.l(f),f.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&B(t.$$.fragment),U(t,e.target,e.anchor),ze()}ie(s)}class X{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){W(this,1),this.$destroy=D}$on(e,n){if(!Me(n))return D;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Qe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const at="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(at);function Ue(t){let e=dt(t);return e!==0||(e=pt(t),e!==0)||(e=ht(t),e!==0)||(e=_t(t)),e}function dt(t){for(let e=0;e<3;e++)e:for(let n=0;n<7;n++){let i=t[e][n];if(i!==0){for(let r=1;r<4;r++)if(t[e+r][n]!==i)continue e;return i}}return 0}function pt(t){for(let e=0;e<6;e++)e:for(let n=0;n<4;n++){let i=t[e][n];if(i!==0){for(let r=1;r<4;r++)if(t[e][n+r]!==i)continue e;return i}}return 0}function ht(t){for(let e=0;e<3;e++)e:for(let n=0;n<4;n++){let i=t[e][n];if(i!==0){for(let r=1;r<4;r++)if(t[e+r][n+r]!==i)continue e;return i}}return 0}function _t(t){for(let e=3;e<6;e++)e:for(let n=0;n<4;n++){let i=t[e][n];if(i!==0){for(let r=1;r<4;r++)if(t[e-r][n+r]!==i)continue e;return i}}return 0}const ee=[];function We(t,e=D){let n;const i=new Set;function r(c){if(J(t,c)&&(t=c,n)){const s=!ee.length;for(const u of i)u[1](),ee.push(u,t);if(s){for(let u=0;u<ee.length;u+=2)ee[u][0](ee[u+1]);ee.length=0}}}function l(c){r(c(t))}function o(c,s=D){const u=[c,s];return i.add(u),i.size===1&&(n=e(r,l)||D),c(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:r,update:l,subscribe:o}}function Ce(t){return Object.prototype.toString.call(t)==="[object Date]"}function mt(t){const e=t-1;return e*e*e+1}function ye(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((r,l)=>ye(t[l],r));return r=>i.map(l=>l(r))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Ce(t)&&Ce(e)){t=t.getTime(),e=e.getTime();const l=e-t;return o=>new Date(t+o*l)}const i=Object.keys(e),r={};return i.forEach(l=>{r[l]=ye(t[l],e[l])}),l=>{const o={};return i.forEach(c=>{o[c]=r[c](l)}),o}}if(n==="number"){const i=e-t;return r=>t+r*i}throw new Error(`Cannot interpolate ${n} values`)}function gt(t,e={}){const n=We(t);let i,r=t;function l(o,c){if(t==null)return n.set(t=o),Promise.resolve();r=o;let s=i,u=!1,{delay:a=0,duration:f=400,easing:d=Ve,interpolate:v=ye}=ve(ve({},e),c);if(f===0)return s&&(s.abort(),s=null),n.set(t=r),Promise.resolve();const h=Ze()+a;let m;return i=xe(p=>{if(p<h)return!0;u||(m=v(t,o),typeof f=="function"&&(f=f(t,o)),u=!0),s&&(s.abort(),s=null);const b=p-h;return b>f?(n.set(t=o),!1):(n.set(t=m(d(b/f))),!0)}),i.promise}return{set:l,update:(o,c)=>l(o(r,t),c),subscribe:n.subscribe}}function bt(t){let e,n;return{c(){e=q("circle"),g(e,"cx",t[2]),g(e,"cy",t[1]),g(e,"r","45"),g(e,"fill",n=t[0]==="red"?"#E53734":"#04BEBE")},m(i,r){T(i,e,r)},p(i,[r]){r&2&&g(e,"cy",i[1]),r&1&&n!==(n=i[0]==="red"?"#E53734":"#04BEBE")&&g(e,"fill",n)},i:D,o:D,d(i){i&&M(e)}}}function yt(t,e,n){let i,{row:r}=e,{col:l}=e,{color:o}=e,c=50+100*l,s=gt(50,{delay:50,easing:mt,duration:(u,a)=>Math.sqrt(Math.abs(u-a)*400)});return je(t,s,u=>n(1,i=u)),s.set(150+100*(5-r)),t.$$set=u=>{"row"in u&&n(4,r=u.row),"col"in u&&n(5,l=u.col),"color"in u&&n(0,o=u.color)},[o,i,c,s,r,l]}class wt extends X{constructor(e){super(),Q(this,e,yt,bt,J,{row:4,col:5,color:0})}}function De(t,e,n){const i=t.slice();return i[3]=e[n].row,i[4]=e[n].col,i[5]=e[n].color,i[7]=n,i}function Fe(t,e){let n,i,r;return i=new wt({props:{row:e[3],col:e[4],color:e[5]}}),{key:t,first:null,c(){n=et(),Y(i.$$.fragment),this.first=n},m(l,o){T(l,n,o),U(i,l,o),r=!0},p(l,o){e=l;const c={};o&1&&(c.row=e[3]),o&1&&(c.col=e[4]),o&1&&(c.color=e[5]),i.$set(c)},i(l){r||(B(i.$$.fragment,l),r=!0)},o(l){N(i.$$.fragment,l),r=!1},d(l){l&&M(n),W(i,l)}}}function kt(t){let e,n,i,r,l,o,c,s=[],u=new Map,a,f,d=ue(t[0]);const v=h=>h[7];for(let h=0;h<d.length;h+=1){let m=De(t,d,h),p=v(m);u.set(p,s[h]=Fe(p,m))}return{c(){e=q("svg"),n=q("defs"),i=q("pattern"),r=q("circle"),l=q("mask"),o=q("rect"),c=q("rect");for(let h=0;h<s.length;h+=1)s[h].c();a=q("rect"),g(r,"cx","50"),g(r,"cy","50"),g(r,"r","45"),g(r,"fill","black"),g(i,"id","cell-pattern"),g(i,"patternUnits","userSpaceOnUse"),g(i,"width","100"),g(i,"height","100"),g(o,"width","700"),g(o,"height","700"),g(o,"fill","white"),g(c,"width","700"),g(c,"height","700"),g(c,"fill","url(#cell-pattern)"),g(l,"id","cell-mask"),g(a,"x","0"),g(a,"y","100"),g(a,"height","600"),g(a,"width","700"),g(a,"fill","#303030"),g(a,"mask","url(#cell-mask)"),g(e,"width","350px"),g(e,"viewBox","0 0 700 700"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","svelte-16b1qih")},m(h,m){T(h,e,m),_(e,n),_(n,i),_(i,r),_(n,l),_(l,o),_(l,c);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(e,null);_(e,a),f=!0},p(h,[m]){m&1&&(d=ue(h[0]),ge(),s=qe(s,m,v,1,h,d,u,e,ct,Fe,a,De),be())},i(h){if(!f){for(let m=0;m<d.length;m+=1)B(s[m]);f=!0}},o(h){for(let m=0;m<s.length;m+=1)N(s[m]);f=!1},d(h){h&&M(e);for(let m=0;m<s.length;m+=1)s[m].d()}}}function $t(t,e,n){let i=[];function r(o,c,s){n(0,i=[...i,{row:o,col:c,color:s}])}function l(){n(0,i=[])}return[i,r,l]}class He extends X{constructor(e){super(),Q(this,e,$t,kt,J,{placePiece:1,clear:2})}get placePiece(){return this.$$.ctx[1]}get clear(){return this.$$.ctx[2]}}function Se(t,e,n){const i=t.slice();return i[8]=e[n],i[9]=e,i[10]=n,i}function Ae(t,e){let n,i=e[10],r,l;const o=()=>e[5](n,i),c=()=>e[5](null,i);function s(){return e[6](e[10])}return{key:t,first:null,c(){n=$("button"),g(n,"class","svelte-1hizh5c"),this.first=n},m(u,a){T(u,n,a),o(),r||(l=j(n,"click",s),r=!0)},p(u,a){e=u,i!==e[10]&&(c(),i=e[10],o())},d(u){u&&M(n),c(),r=!1,l()}}}function vt(t){let e,n=[],i=new Map,r=ue(Array(7));const l=o=>o[10];for(let o=0;o<r.length;o+=1){let c=Se(t,r,o),s=l(c);i.set(s,n[o]=Ae(s,c))}return{c(){e=$("div");for(let o=0;o<n.length;o+=1)n[o].c()},m(o,c){T(o,e,c);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(o,[c]){c&3&&(r=ue(Array(7)),n=qe(n,c,l,1,o,r,i,e,ut,Ae,null,Se))},i:D,o:D,d(o){o&&M(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function It(t,e,n){const i=ce();let r=[];function l(){r.forEach(f=>f.disabled=!0)}function o(){r.forEach(f=>f.disabled=!1)}function c(f,d){f<0||f>6||n(0,r[f].disabled=d,r)}function s(f){f<0||f>6||i("buttonClick",{col:f})}function u(f,d){z[f?"unshift":"push"](()=>{r[d]=f,n(0,r)})}return[r,s,l,o,c,u,f=>s(f)]}class Ye extends X{constructor(e){super(),Q(this,e,It,vt,J,{disable:2,enable:3,setCol:4})}get disable(){return this.$$.ctx[2]}get enable(){return this.$$.ctx[3]}get setCol(){return this.$$.ctx[4]}}function Et(t){let e,n,i,r,l,o={};n=new He({props:o}),t[6](n);let c={};return r=new Ye({props:c}),t[7](r),r.$on("buttonClick",t[8]),{c(){e=$("div"),Y(n.$$.fragment),i=F(),Y(r.$$.fragment)},m(s,u){T(s,e,u),U(n,e,null),_(e,i),U(r,e,null),l=!0},p(s,[u]){const a={};n.$set(a);const f={};r.$set(f)},i(s){l||(B(n.$$.fragment,s),B(r.$$.fragment,s),l=!0)},o(s){N(n.$$.fragment,s),N(r.$$.fragment,s),l=!1},d(s){s&&M(e),t[6](null),W(n),t[7](null),W(r)}}}function Ct(t,e,n){const i=ce();let r=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,c,s;function u(k){i("gameEnd",{message:k,error:!1})}function a(k){for(let S=0;S<l.length;S++)if(l[S][k]===0)return S;return 6}function f(k){for(let y=0;y<7;y++)c.setCol(y,!0);let S=a(k);S===5&&(r[k]=!0);let P=o%2===0?1:-1;l[S][k]=P,s.placePiece(S,k,P===1?"red":"blue"),o++;let w=Ue(l);if(w!==0){u(`${w==1?"Red":"Blue"} Wins!`);return}o==42&&u("Draw");for(let y=0;y<7;y++)c.setCol(y,r[y])}function d(){v()}function v(){r.fill(!1),l.forEach(k=>k.fill(0)),o=0,s.clear(),c.enable()}function h(){d()}function m(k){z[k?"unshift":"push"](()=>{s=k,n(1,s)})}function p(k){z[k?"unshift":"push"](()=>{c=k,n(0,c)})}return[c,s,f,d,v,h,m,p,k=>{f(k.detail.col)}]}class Dt extends X{constructor(e){super(),Q(this,e,Ct,Et,J,{start:3,clear:4,restart:5})}get start(){return this.$$.ctx[3]}get clear(){return this.$$.ctx[4]}get restart(){return this.$$.ctx[5]}}const we=We({mode:1,modeSettings:{}});function Ft(t){let e,n,i,r,l,o,c,s,u,a,f,d,v,h,m,p,b,k,S,P,w,y,I;return w=_e(t[10][1]),{c(){e=$("div"),n=$("h3"),n.textContent="Choose Your Color",i=F(),r=$("label"),l=$("input"),c=G(`
        Red`),s=F(),u=$("label"),a=$("input"),d=G(`
        Blue`),v=F(),h=$("h3"),h.textContent="Game ID",m=F(),p=$("p"),b=F(),k=$("button"),k.textContent="Get ID",S=F(),P=$("button"),P.textContent="Copy URL for opponent",l.checked=o=t[0].playerIsFirst===!0,g(l,"name","color"),g(l,"type","radio"),l.__value=!0,K(l,l.__value),a.checked=f=t[0].playerIsFirst===!1,g(a,"name","color"),g(a,"type","radio"),a.__value=!1,K(a,a.__value),g(p,"contenteditable","false"),t[0].id===void 0&&se(()=>t[17].call(p)),g(e,"class","settingsContainer"),w.p(l,a)},m(E,C){T(E,e,C),_(e,n),_(e,i),_(e,r),_(r,l),l.checked=l.__value===t[0].playerIsFirst,_(r,c),_(e,s),_(e,u),_(u,a),a.checked=a.__value===t[0].playerIsFirst,_(u,d),_(e,v),_(e,h),_(e,m),_(e,p),t[0].id!==void 0&&(p.innerText=t[0].id),_(e,b),_(e,k),_(e,S),_(e,P),y||(I=[j(l,"change",t[15]),j(a,"change",t[16]),j(p,"input",t[17]),j(k,"click",t[18]),j(P,"click",t[4])],y=!0)},p(E,C){C&1&&o!==(o=E[0].playerIsFirst===!0)&&(l.checked=o),C&1&&(l.checked=l.__value===E[0].playerIsFirst),C&1&&f!==(f=E[0].playerIsFirst===!1)&&(a.checked=f),C&1&&(a.checked=a.__value===E[0].playerIsFirst),C&1&&E[0].id!==p.innerText&&(p.innerText=E[0].id)},d(E){E&&M(e),w.r(),y=!1,H(I)}}}function St(t){let e,n,i,r,l,o,c,s,u,a,f,d,v,h,m,p,b,k,S,P,w,y,I,E,C,A,O,Z,ke,fe,ae,de,$e;return fe=_e(t[10][0]),ae=_e(t[10][1]),{c(){e=$("div"),n=$("h3"),n.textContent="Choose Your Color",i=F(),r=$("label"),l=$("input"),c=G(`
        Red`),s=F(),u=$("label"),a=$("input"),d=G(`
        Blue`),v=F(),h=$("h3"),h.textContent="AI Difficulty",m=F(),p=$("label"),b=$("input"),S=G(`
        Easy`),P=F(),w=$("label"),y=$("input"),E=G(`
        Medium`),C=F(),A=$("label"),O=$("input"),ke=G(`
        Hard`),l.checked=o=t[0].playerIsFirst===!0,g(l,"name","color"),g(l,"type","radio"),l.__value=!0,K(l,l.__value),a.checked=f=t[0].playerIsFirst===!1,g(a,"name","color"),g(a,"type","radio"),a.__value=!1,K(a,a.__value),b.checked=k=t[0].botDiff==="easy",g(b,"name","AiDifficulty"),g(b,"type","radio"),b.__value="easy",K(b,b.__value),y.checked=I=t[0].botDiff==="medium",g(y,"name","AiDifficulty"),g(y,"type","radio"),y.__value="medium",K(y,y.__value),O.checked=Z=t[0].botDiff==="hard",g(O,"name","AiDifficulty"),g(O,"type","radio"),O.__value="hard",K(O,O.__value),g(e,"class","settingsContainer"),fe.p(b,y,O),ae.p(l,a)},m(L,R){T(L,e,R),_(e,n),_(e,i),_(e,r),_(r,l),l.checked=l.__value===t[0].playerIsFirst,_(r,c),_(e,s),_(e,u),_(u,a),a.checked=a.__value===t[0].playerIsFirst,_(u,d),_(e,v),_(e,h),_(e,m),_(e,p),_(p,b),b.checked=b.__value===t[0].botDiff,_(p,S),_(e,P),_(e,w),_(w,y),y.checked=y.__value===t[0].botDiff,_(w,E),_(e,C),_(e,A),_(A,O),O.checked=O.__value===t[0].botDiff,_(A,ke),de||($e=[j(l,"change",t[9]),j(a,"change",t[11]),j(b,"change",t[12]),j(y,"change",t[13]),j(O,"change",t[14])],de=!0)},p(L,R){R&1&&o!==(o=L[0].playerIsFirst===!0)&&(l.checked=o),R&1&&(l.checked=l.__value===L[0].playerIsFirst),R&1&&f!==(f=L[0].playerIsFirst===!1)&&(a.checked=f),R&1&&(a.checked=a.__value===L[0].playerIsFirst),R&1&&k!==(k=L[0].botDiff==="easy")&&(b.checked=k),R&1&&(b.checked=b.__value===L[0].botDiff),R&1&&I!==(I=L[0].botDiff==="medium")&&(y.checked=I),R&1&&(y.checked=y.__value===L[0].botDiff),R&1&&Z!==(Z=L[0].botDiff==="hard")&&(O.checked=Z),R&1&&(O.checked=O.__value===L[0].botDiff)},d(L){L&&M(e),fe.r(),ae.r(),de=!1,H($e)}}}function At(t){let e,n,i,r,l,o,c,s,u,a,f,d;function v(p,b){if(p[1]==1)return St;if(p[1]==3)return Ft}let h=v(t),m=h&&h(t);return{c(){e=$("div"),n=$("div"),i=$("button"),i.textContent="Single Player",r=F(),l=$("button"),l.textContent="Local Multiplayer",o=F(),c=$("button"),c.textContent="Online Multiplayer",s=F(),m&&m.c(),u=F(),a=$("button"),a.textContent="play",g(n,"class","modeButtons svelte-19th53m"),g(e,"id","container"),g(e,"class","svelte-19th53m")},m(p,b){T(p,e,b),_(e,n),_(n,i),t[5](i),_(n,r),_(n,l),_(n,o),_(n,c),_(e,s),m&&m.m(e,null),_(e,u),_(e,a),f||(d=[j(i,"click",t[6]),j(l,"click",t[7]),j(c,"click",t[8]),j(a,"click",t[19])],f=!0)},p(p,[b]){h===(h=v(p))&&m?m.p(p,b):(m&&m.d(1),m=h&&h(p),m&&(m.c(),m.m(e,u)))},i:D,o:D,d(p){p&&M(e),t[5](null),m&&m.d(),f=!1,H(d)}}}async function Pt(){return(await(await fetch("/multiplayer/create_game",{method:"POST",headers:{"Content-Type":"0"}})).json()).id}function Ot(t,e,n){let i=ce(),r={},l=1,o,c=new URLSearchParams(document.location.search),s=c.get("fir"),u=parseInt(c.get("id"),10);history.pushState(null,"",location.href.split("?")[0]),Ge(()=>{isNaN(u)?n(0,r={playerIsFirst:!0,botDiff:"easy"}):(n(0,r={id:u,playerIsFirst:s==="1"}),n(1,l=3))});function a(A){let O=window.location.href,Z=`?id=${r.id}&fir=${r.playerIsFirst===!0?0:1}`;navigator.clipboard.writeText(O+Z)}const f=[[],[]];function d(A){z[A?"unshift":"push"](()=>{o=A,n(2,o)})}const v=()=>{n(1,l=1),n(0,r={playerIsFirst:!0,botDiff:"easy"})},h=()=>{n(1,l=2),n(0,r={})},m=()=>{n(1,l=3),n(0,r={id:"None",playerIsFirst:!0})};function p(){r.playerIsFirst=this.__value,n(0,r)}function b(){r.playerIsFirst=this.__value,n(0,r)}function k(){r.botDiff=this.__value,n(0,r)}function S(){r.botDiff=this.__value,n(0,r)}function P(){r.botDiff=this.__value,n(0,r)}function w(){r.playerIsFirst=this.__value,n(0,r)}function y(){r.playerIsFirst=this.__value,n(0,r)}function I(){r.id=this.innerText,n(0,r)}const E=()=>{Pt().then(A=>n(0,r.id=A,r))},C=()=>i("gameStart");return t.$$.update=()=>{t.$$.dirty&3&&we.set({mode:l,modeSettings:r})},[r,l,o,i,a,d,v,h,m,p,f,b,k,S,P,w,y,I,E,C]}class Bt extends X{constructor(e){super(),Q(this,e,Ot,At,J,{})}}function Mt(t){let e,n,i,r,l,o={};n=new He({props:o}),t[8](n);let c={};return r=new Ye({props:c}),t[9](r),r.$on("buttonClick",t[10]),{c(){e=$("div"),Y(n.$$.fragment),i=F(),Y(r.$$.fragment)},m(s,u){T(s,e,u),U(n,e,null),_(e,i),U(r,e,null),l=!0},p(s,[u]){const a={};n.$set(a);const f={};r.$set(f)},i(s){l||(B(n.$$.fragment,s),B(r.$$.fragment,s),l=!0)},o(s){N(n.$$.fragment,s),N(r.$$.fragment,s),l=!1},d(s){s&&M(e),t[8](null),W(n),t[9](null),W(r)}}}function jt(t,e,n){let{botDiff:i="easy"}=e,{playerIsFirst:r=!0}=e;const l=ce();let o=Array(7).fill(!1),c=Array.from({length:6},()=>Array(7).fill(0)),s=0,u,a;Ge(()=>{u.disable()});function f(w){l("gameEnd",{message:w,error:!1})}function d(w){for(let y=0;y<c.length;y++)if(c[y][w]===0)return y;return 6}function v(w){u.disable();let y=d(w);y===5&&(o[w]=!0);let I=s%2===0?1:-1;c[y][w]=I,a.placePiece(y,w,I==1?"red":"blue"),s++;let E=Ue(c);if(E!==0){f(`${E==1?"Red":"Blue"} Wins!`);return}if(E||s==42){f("Draw");return}r&&s%2==1||!r&&s%2==0?h():o.forEach((C,A)=>u.setCol(A,C))}async function h(){console.log(i);let w=Date.now(),C=(await(await fetch("/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:c,difficulty:i})})).json()).move,A=Date.now()-w;A<250?setTimeout(()=>{v(C)},250-A):v(C)}function m(){r?u.enable():(u.disable(),h())}function p(){o.fill(!1),c.forEach(w=>w.fill(0)),s=0,a.clear(),u.disable()}function b(){p(),m()}function k(w){z[w?"unshift":"push"](()=>{a=w,n(1,a)})}function S(w){z[w?"unshift":"push"](()=>{u=w,n(0,u)})}const P=w=>{v(w.detail.col)};return t.$$set=w=>{"botDiff"in w&&n(3,i=w.botDiff),"playerIsFirst"in w&&n(4,r=w.playerIsFirst)},[u,a,v,i,r,m,p,b,k,S,P]}class Tt extends X{constructor(e){super(),Q(this,e,jt,Mt,J,{botDiff:3,playerIsFirst:4,start:5,clear:6,restart:7})}get start(){return this.$$.ctx[5]}get clear(){return this.$$.ctx[6]}get restart(){return this.$$.ctx[7]}}function Pe(t){let e,n;return e=new Bt({}),e.$on("gameStart",t[6]),{c(){Y(e.$$.fragment)},m(i,r){U(e,i,r),n=!0},p:D,i(i){n||(B(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){W(e,i)}}}function Oe(t){let e,n;return{c(){e=$("p"),n=G(t[2])},m(i,r){T(i,e,r),_(e,n)},p(i,r){r&4&&nt(n,i[2])},d(i){i&&M(e)}}}function Lt(t){let e;return{c(){e=$("p"),e.textContent="Error Please Refresh Page"},m(n,i){T(n,e,i)},p:D,i:D,o:D,d(n){n&&M(e)}}}function Nt(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function Rt(t){let e,n,i={};return e=new Dt({props:i}),t[8](e),e.$on("gameEnd",t[5]),{c(){Y(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,l){const o={};e.$set(o)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){t[8](null),W(e,r)}}}function Gt(t){let e,n,i={botDiff:t[4].modeSettings.botDiff,playerIsFirst:t[4].modeSettings.playerIsFirst};return e=new Tt({props:i}),t[7](e),e.$on("gameEnd",t[5]),{c(){Y(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,l){const o={};l&16&&(o.botDiff=r[4].modeSettings.botDiff),l&16&&(o.playerIsFirst=r[4].modeSettings.playerIsFirst),e.$set(o)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){t[7](null),W(e,r)}}}function zt(t){let e,n,i,r,l,o,c,s,u,a,f=!t[1]&&Pe(t),d=t[2]!==""&&Oe(t);const v=[Gt,Rt,Nt,Lt],h=[];function m(p,b){return p[0]===1?0:p[0]==2?1:p[0]===3?2:3}return s=m(t),u=h[s]=v[s](t),{c(){e=$("head"),e.innerHTML="<title>Four In a Row</title>",n=F(),i=$("main"),r=$("h1"),r.textContent="Four In a Row",l=F(),f&&f.c(),o=F(),d&&d.c(),c=F(),u.c(),g(i,"class","svelte-1dnmptc")},m(p,b){T(p,e,b),T(p,n,b),T(p,i,b),_(i,r),_(i,l),f&&f.m(i,null),_(i,o),d&&d.m(i,null),_(i,c),h[s].m(i,null),a=!0},p(p,[b]){p[1]?f&&(ge(),N(f,1,1,()=>{f=null}),be()):f?(f.p(p,b),b&2&&B(f,1)):(f=Pe(p),f.c(),B(f,1),f.m(i,o)),p[2]!==""?d?d.p(p,b):(d=Oe(p),d.c(),d.m(i,c)):d&&(d.d(1),d=null);let k=s;s=m(p),s===k?h[s].p(p,b):(ge(),N(h[k],1,1,()=>{h[k]=null}),be(),u=h[s],u?u.p(p,b):(u=h[s]=v[s](p),u.c()),B(u,1),u.m(i,null))},i(p){a||(B(f),B(u),a=!0)},o(p){N(f),N(u),a=!1},d(p){p&&(M(e),M(n),M(i)),f&&f.d(),d&&d.d(),h[s].d()}}}function qt(t,e,n){let i;je(t,we,d=>n(4,i=d));let r=!1,l;we.subscribe(d=>n(0,l=d.mode));let o="",c;function s(d){d.detail.error?n(2,o=`Error: ${d.detail.message}`):n(2,o=d.detail.message),n(1,r=!1)}const u=d=>{n(1,r=!0),c.start()};function a(d){z[d?"unshift":"push"](()=>{c=d,n(3,c)})}function f(d){z[d?"unshift":"push"](()=>{c=d,n(3,c)})}return t.$$.update=()=>{t.$$.dirty&1&&console.log(`Mode: ${l}`)},[l,r,o,c,i,s,u,a,f]}class Ut extends X{constructor(e){super(),Q(this,e,qt,zt,J,{})}}new Ut({target:document.getElementById("app")});
