var ct=Object.defineProperty;var at=(t,e,n)=>e in t?ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>(at(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function B(){}const Oe=t=>t;function Le(t,e){for(const n in e)t[n]=e[n];return t}function Qe(t){return t()}function Re(){return Object.create(null)}function J(t){t.forEach(Qe)}function Be(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function pt(t,...e){if(t==null){for(const r of e)r(void 0);return B}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Se(t,e,n){t.$$.on_destroy.push(pt(e,n))}function mt(t,e,n){return t.set(n),e}const Xe=typeof window<"u";let Ze=Xe?()=>window.performance.now():()=>Date.now(),Te=Xe?t=>requestAnimationFrame(t):B;const se=new Set;function xe(t){se.forEach(e=>{e.c(t)||(se.delete(e),e.f())}),se.size!==0&&Te(xe)}function et(t){let e;return se.size===0&&Te(xe),{promise:new Promise(n=>{se.add(e={c:t,f:n})}),abort(){se.delete(e)}}}function m(t,e){t.appendChild(e)}function tt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _t(t){const e=k("style");return e.textContent="/* empty */",ht(tt(t),e),e.sheet}function ht(t,e){return m(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function H(t){return document.createTextNode(t)}function F(){return H(" ")}function nt(){return H("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ee(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function gt(t){return Array.from(t.childNodes)}function rt(t,e){e=""+e,t.data!==e&&(t.data=e)}function te(t,e){t.value=e??""}function it(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const he=new Map;let ge=0;function bt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function yt(t,e){const n={stylesheet:_t(e),rules:{}};return he.set(t,n),n}function ze(t,e,n,r,i,l,o,s=0){const u=16.666/r;let c=`{
`;for(let g=0;g<=1;g+=u){const a=e+(n-e)*l(g);c+=g*100+`%{${o(a,1-a)}}
`}const f=c+`100% {${o(n,1-n)}}
}`,d=`__svelte_${bt(f)}_${s}`,_=tt(t),{stylesheet:w,rules:h}=he.get(_)||yt(_,t);h[d]||(h[d]=!0,w.insertRule(`@keyframes ${d} ${f}`,w.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${r}ms linear ${i}ms 1 both`,ge+=1,d}function vt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ge-=i,ge||kt())}function kt(){Te(()=>{ge||(he.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&D(e)}),he.clear())})}let de;function ae(t){de=t}function lt(){if(!de)throw new Error("Function called outside component initialization");return de}function Ae(t){lt().$$.on_mount.push(t)}function fe(){const t=lt();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=it(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const oe=[],re=[];let ue=[];const Ge=[],wt=Promise.resolve();let Fe=!1;function $t(){Fe||(Fe=!0,wt.then(ot))}function Z(t){ue.push(t)}const Ce=new Set;let ie=0;function ot(){if(ie!==0)return;const t=de;do{try{for(;ie<oe.length;){const e=oe[ie];ie++,ae(e),Ct(e.$$)}}catch(e){throw oe.length=0,ie=0,e}for(ae(null),oe.length=0,ie=0;re.length;)re.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];Ce.has(n)||(Ce.add(n),n())}ue.length=0}while(oe.length);for(;Ge.length;)Ge.pop()();Fe=!1,Ce.clear(),ae(t)}function Ct(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}function It(t){const e=[],n=[];ue.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ue=e}let ce;function Et(){return ce||(ce=Promise.resolve(),ce.then(()=>{ce=null})),ce}function Ie(t,e,n){t.dispatchEvent(it(`${e?"intro":"outro"}${n}`))}const _e=new Set;let X;function pe(){X={r:0,c:[],p:X}}function me(){X.r||J(X.c),X=X.p}function E(t,e){t&&t.i&&(_e.delete(t),t.i(e))}function M(t,e,n,r){if(t&&t.o){if(_e.has(t))return;_e.add(t),X.c.push(()=>{_e.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Ft={duration:0};function x(t,e,n,r){let l=e(t,n,{direction:"both"}),o=r?0:1,s=null,u=null,c=null,f;function d(){c&&vt(t,c)}function _(h,v){const g=h.b-o;return v*=Math.abs(g),{a:o,b:h.b,d:g,duration:v,start:h.start,end:h.start+v,group:h.group}}function w(h){const{delay:v=0,duration:g=300,easing:a=Oe,tick:p=B,css:C}=l||Ft,A={start:Ze()+v,b:h};h||(A.group=X,X.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),s||u?u=A:(C&&(d(),c=ze(t,o,h,g,v,a,C)),h&&p(0,1),s=_(A,g),Z(()=>Ie(t,h,"start")),et(T=>{if(u&&T>u.start&&(s=_(u,g),u=null,Ie(t,s.b,"start"),C&&(d(),c=ze(t,o,s.b,s.duration,0,a,l.css))),s){if(T>=s.end)p(o=s.b,1-o),Ie(t,s.b,"end"),u||(s.b?d():--s.group.r||J(s.group.c)),s=null;else if(T>=s.start){const y=T-s.start;o=s.a+s.d*a(y/s.duration),p(o,1-o)}}return!!(s||u)}))}return{run(h){Be(l)?Et().then(()=>{l=l({direction:h?"in":"out"}),w(h)}):w(h)},end(){d(),s=u=null}}}function be(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Dt(t,e){t.d(1),e.delete(t.key)}function Mt(t,e){M(t,1,1,()=>{e.delete(t.key)})}function st(t,e,n,r,i,l,o,s,u,c,f,d){let _=t.length,w=l.length,h=_;const v={};for(;h--;)v[t[h].key]=h;const g=[],a=new Map,p=new Map,C=[];for(h=w;h--;){const $=d(i,l,h),I=n($);let O=o.get(I);O?r&&C.push(()=>O.p($,e)):(O=c(I,$),O.c()),a.set(I,g[h]=O),I in v&&p.set(I,Math.abs(h-v[I]))}const A=new Set,T=new Set;function y($){E($,1),$.m(s,f),o.set($.key,$),f=$.first,w--}for(;_&&w;){const $=g[w-1],I=t[_-1],O=$.key,G=I.key;$===I?(f=$.first,_--,w--):a.has(G)?!o.has(O)||A.has(O)?y($):T.has(G)?_--:p.get(O)>p.get(G)?(T.add(O),y($)):(A.add(G),_--):(u(I,o),_--)}for(;_--;){const $=t[_];a.has($.key)||u($,o)}for(;w;)y(g[w-1]);return J(C),g}function U(t){t&&t.c()}function R(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Z(()=>{const l=t.$$.on_mount.map(Qe).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...l):J(l),t.$$.on_mount=[]}),i.forEach(Z)}function z(t,e){const n=t.$$;n.fragment!==null&&(It(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(t,e){t.$$.dirty[0]===-1&&(oe.push(t),$t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,r,i,l,o=null,s=[-1]){const u=de;ae(t);const c=t.$$={fragment:null,ctx:[],props:l,update:B,not_equal:i,bound:Re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Re(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(d,_,...w)=>{const h=w.length?w[0]:_;return c.ctx&&i(c.ctx[d],c.ctx[d]=h)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](h),f&&Ot(t,d)),_}):[],c.update(),f=!0,J(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=gt(e.target);c.fragment&&c.fragment.l(d),d.forEach(D)}else c.fragment&&c.fragment.c();e.intro&&E(t.$$.fragment),R(t,e.target,e.anchor),ot()}ae(u)}class V{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){z(this,1),this.$destroy=B}$on(e,n){if(!Be(n))return B;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bt);function Ue(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function qe(t,e){let n,r=e[10],i,l;const o=()=>e[5](n,r),s=()=>e[5](null,r);function u(){return e[6](e[10])}return{key:t,first:null,c(){n=k("button"),b(n,"class","svelte-1bhaxd"),this.first=n},m(c,f){S(c,n,f),o(),i||(l=j(n,"click",u),i=!0)},p(c,f){e=c,r!==e[10]&&(s(),r=e[10],o())},d(c){c&&D(n),s(),i=!1,l()}}}function St(t){let e,n=[],r=new Map,i=be(Array(7));const l=o=>o[10];for(let o=0;o<i.length;o+=1){let s=Ue(t,i,o),u=l(s);r.set(u,n[o]=qe(u,s))}return{c(){e=k("div");for(let o=0;o<n.length;o+=1)n[o].c();b(e,"class","svelte-1bhaxd")},m(o,s){S(o,e,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null)},p(o,[s]){s&3&&(i=be(Array(7)),n=st(n,s,l,1,o,i,r,e,Dt,qe,null,Ue))},i:B,o:B,d(o){o&&D(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Tt(t,e,n){const r=fe();let i=[];function l(){i.forEach(d=>d.disabled=!0)}function o(){i.forEach(d=>d.disabled=!1)}function s(d,_){d<0||d>6||n(0,i[d].disabled=_,i)}function u(d){d<0||d>6||r("buttonClick",{col:d})}function c(d,_){re[d?"unshift":"push"](()=>{i[_]=d,n(0,i)})}return[i,u,l,o,s,c,d=>u(d)]}class At extends V{constructor(e){super(),K(this,e,Tt,St,Y,{disable:2,enable:3,setCol:4})}get disable(){return this.$$.ctx[2]}get enable(){return this.$$.ctx[3]}get setCol(){return this.$$.ctx[4]}}const le=[];function ut(t,e=B){let n;const r=new Set;function i(s){if(Y(t,s)&&(t=s,n)){const u=!le.length;for(const c of r)c[1](),le.push(c,t);if(u){for(let c=0;c<le.length;c+=2)le[c][0](le[c+1]);le.length=0}}}function l(s){i(s(t))}function o(s,u=B){const c=[s,u];return r.add(c),r.size===1&&(n=e(i,l)||B),s(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function We(t){return Object.prototype.toString.call(t)==="[object Date]"}function Nt(t){const e=t-1;return e*e*e+1}function De(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,l)=>De(t[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(We(t)&&We(e)){t=t.getTime(),e=e.getTime();const l=e-t;return o=>new Date(t+o*l)}const r=Object.keys(e),i={};return r.forEach(l=>{i[l]=De(t[l],e[l])}),l=>{const o={};return r.forEach(s=>{o[s]=i[s](l)}),o}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Pt(t,e={}){const n=ut(t);let r,i=t;function l(o,s){if(t==null)return n.set(t=o),Promise.resolve();i=o;let u=r,c=!1,{delay:f=0,duration:d=400,easing:_=Oe,interpolate:w=De}=Le(Le({},e),s);if(d===0)return u&&(u.abort(),u=null),n.set(t=i),Promise.resolve();const h=Ze()+f;let v;return r=et(g=>{if(g<h)return!0;c||(v=w(t,o),typeof d=="function"&&(d=d(t,o)),c=!0),u&&(u.abort(),u=null);const a=g-h;return a>d?(n.set(t=o),!1):(n.set(t=v(_(a/d))),!0)}),r.promise}return{set:l,update:(o,s)=>l(o(i,t),s),subscribe:n.subscribe}}function jt(t){let e,n;return{c(){e=Q("circle"),b(e,"cx",t[2]),b(e,"cy",t[1]),b(e,"r","45"),b(e,"fill",n=t[0]==="red"?"#E53734":"#04BEBE")},m(r,i){S(r,e,i)},p(r,[i]){i&2&&b(e,"cy",r[1]),i&1&&n!==(n=r[0]==="red"?"#E53734":"#04BEBE")&&b(e,"fill",n)},i:B,o:B,d(r){r&&D(e)}}}function Lt(t,e,n){let r,{row:i}=e,{col:l}=e,{color:o}=e,s=50+100*l,u=Pt(50,{delay:50,easing:Nt,duration:(c,f)=>Math.sqrt(Math.abs(c-f)*400)});return Se(t,u,c=>n(1,r=c)),u.set(150+100*(5-i)),t.$$set=c=>{"row"in c&&n(4,i=c.row),"col"in c&&n(5,l=c.col),"color"in c&&n(0,o=c.color)},[o,r,s,u,i,l]}class Rt extends V{constructor(e){super(),K(this,e,Lt,jt,Y,{row:4,col:5,color:0})}}function zt(t){let e=Ut(t);return e!==0||(e=qt(t),e!==0)||(e=Wt(t),e!==0)||(e=Ht(t)),e}function Gt(t,e){for(let n=0;n<e.length;n++)if(e[n][t]===0)return n;return 6}function Ut(t){for(let e=0;e<3;e++)e:for(let n=0;n<7;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n]!==r)continue e;return r}}return 0}function qt(t){for(let e=0;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e][n+i]!==r)continue e;return r}}return 0}function Wt(t){for(let e=0;e<3;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n+i]!==r)continue e;return r}}return 0}function Ht(t){for(let e=3;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e-i][n+i]!==r)continue e;return r}}return 0}function He(t,e,n){const r=t.slice();return r[19]=e[n].row,r[20]=e[n].col,r[21]=e[n].color,r[23]=n,r}function Je(t,e){let n,r,i;return r=new Rt({props:{row:e[19],col:e[20],color:e[21]}}),{key:t,first:null,c(){n=nt(),U(r.$$.fragment),this.first=n},m(l,o){S(l,n,o),R(r,l,o),i=!0},p(l,o){e=l;const s={};o&2&&(s.row=e[19]),o&2&&(s.col=e[20]),o&2&&(s.color=e[21]),r.$set(s)},i(l){i||(E(r.$$.fragment,l),i=!0)},o(l){M(r.$$.fragment,l),i=!1},d(l){l&&D(n),z(r,l)}}}function Jt(t){let e,n,r,i,l,o,s,u=[],c=new Map,f,d,_,w,h=be(t[1]);const v=a=>a[23];for(let a=0;a<h.length;a+=1){let p=He(t,h,a),C=v(p);c.set(C,u[a]=Je(C,p))}let g={};return _=new At({props:g}),t[9](_),_.$on("buttonClick",t[10]),{c(){e=Q("svg"),n=Q("defs"),r=Q("pattern"),i=Q("circle"),l=Q("mask"),o=Q("rect"),s=Q("rect");for(let a=0;a<u.length;a+=1)u[a].c();f=Q("rect"),d=F(),U(_.$$.fragment),b(i,"cx","50"),b(i,"cy","50"),b(i,"r","45"),b(i,"fill","black"),b(r,"id","cell-pattern"),b(r,"patternUnits","userSpaceOnUse"),b(r,"width","100"),b(r,"height","100"),b(o,"width","700"),b(o,"height","700"),b(o,"fill","white"),b(s,"width","700"),b(s,"height","700"),b(s,"fill","url(#cell-pattern)"),b(l,"id","cell-mask"),b(f,"x","0"),b(f,"y","100"),b(f,"height","600"),b(f,"width","700"),b(f,"fill","#303030"),b(f,"mask","url(#cell-mask)"),b(e,"viewBox","0 0 700 700"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","svelte-5r9yz0")},m(a,p){S(a,e,p),m(e,n),m(n,r),m(r,i),m(n,l),m(l,o),m(l,s);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(e,null);m(e,f),S(a,d,p),R(_,a,p),w=!0},p(a,[p]){p&2&&(h=be(a[1]),pe(),u=st(u,p,v,1,a,h,c,e,Mt,Je,f,He),me());const C={};_.$set(C)},i(a){if(!w){for(let p=0;p<h.length;p+=1)E(u[p]);E(_.$$.fragment,a),w=!0}},o(a){for(let p=0;p<u.length;p+=1)M(u[p]);M(_.$$.fragment,a),w=!1},d(a){a&&(D(e),D(d));for(let p=0;p<u.length;p+=1)u[p].d();t[9](null),z(_,a)}}}function Yt(t,e,n){let r=fe(),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,s=[],u,c=!1;function f(){n(1,s=[]),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,c=!1,u.enable()}function d(){u.disable()}function _(){if(!c)for(let y=0;y<7;y++)u.setCol(y,i[y])}function w(){return l}function h(){return c}function v(y){u.disable();let $=Gt(y,l);$>5&&a("Played Piece in full column"),$===5&&(i[y]=!0);let I=o%2===0?1:-1;l[$][y]=I,C($,y,I===1?"red":"blue"),o++;let O=zt(l);if(O!==0){c=!0,g(`${O==1?"Red":"Blue"} Wins!`);return}o==42&&(c=!0,g("Draw"))}function g(y){r("gameEnd",{message:y})}function a(y=""){r("error",{message:y})}function p(y){r("playerMove",{col:y})}function C(y,$,I){n(1,s=[...s,{row:y,col:$,color:I}])}function A(y){re[y?"unshift":"push"](()=>{u=y,n(2,u)})}return[v,s,u,p,f,d,_,w,h,A,y=>{v(y.detail.col),p(y.detail.col)}]}class Ne extends V{constructor(e){super(),K(this,e,Yt,Jt,Y,{clear:4,disableButtons:5,enableButtons:6,getBoard:7,gameOver:8,playMove:0})}get clear(){return this.$$.ctx[4]}get disableButtons(){return this.$$.ctx[5]}get enableButtons(){return this.$$.ctx[6]}get getBoard(){return this.$$.ctx[7]}get gameOver(){return this.$$.ctx[8]}get playMove(){return this.$$.ctx[0]}}function Kt(t){let e,n,r,i,l,o,s,u,c;return{c(){e=k("div"),n=k("h2"),r=H(t[0]),i=F(),l=k("button"),l.textContent="Play Again",o=F(),s=k("button"),s.textContent="Back To Menu",b(e,"id","container"),b(e,"class","svelte-1e3k5zy")},m(f,d){S(f,e,d),m(e,n),m(n,r),m(e,i),m(e,l),m(e,o),m(e,s),u||(c=[j(l,"click",t[1]),j(s,"click",t[2])],u=!0)},p(f,[d]){d&1&&rt(r,f[0])},i:B,o:B,d(f){f&&D(e),u=!1,J(c)}}}function Vt(t,e,n){let{gameText:r}=e,i=fe();function l(){i("replayClicked")}function o(){i("menuClicked")}return t.$$set=s=>{"gameText"in s&&n(0,r=s.gameText)},[r,l,o]}class Pe extends V{constructor(e){super(),K(this,e,Vt,Kt,Y,{gameText:0})}}function Ye(t){let e,n;return e=new Pe({props:{gameText:t[2]}}),e.$on("replayClicked",t[3]),e.$on("menuClicked",t[4]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Qt(t){let e,n,r,i,l,o=t[1]&&Ye(t),s={};return n=new Ne({props:s}),t[5](n),n.$on("playerMove",t[6]),n.$on("error",t[7]),n.$on("gameEnd",t[8]),{c(){o&&o.c(),e=F(),U(n.$$.fragment),r=F(),i=k("div")},m(u,c){o&&o.m(u,c),S(u,e,c),R(n,u,c),S(u,r,c),S(u,i,c),l=!0},p(u,[c]){u[1]?o?(o.p(u,c),c&2&&E(o,1)):(o=Ye(u),o.c(),E(o,1),o.m(e.parentNode,e)):o&&(pe(),M(o,1,1,()=>{o=null}),me());const f={};n.$set(f)},i(u){l||(E(o),E(n.$$.fragment,u),l=!0)},o(u){M(o),M(n.$$.fragment,u),l=!1},d(u){u&&(D(e),D(r),D(i)),o&&o.d(u),t[5](null),z(n,u)}}}function Xt(t,e,n){fe();let r,i=!1,l="";function o(){n(1,i=!1),r.clear()}function s(_){ne.call(this,t,_)}function u(_){re[_?"unshift":"push"](()=>{r=_,n(0,r)})}const c=()=>r.enableButtons();function f(_){ne.call(this,t,_)}return[r,i,l,o,s,u,c,f,_=>{n(2,l=_.detail.message),n(1,i=!0)}]}class Zt extends V{constructor(e){super(),K(this,e,Xt,Qt,Y,{})}}const ye=ut({mode:0,modeSettings:{}});function xt(t){let e,n,r,i,l,o,s,u,c,f,d,_,w,h,v,g,a,p,C,A,T,y,$=`?id=${t[0].id}&fir=${t[0].playerIsFirst===!0?0:1}`,I,O,G,N;return O=Ee(t[8][1]),{c(){e=k("div"),n=k("h3"),n.textContent="Choose Your Color",r=F(),i=k("label"),l=k("input"),s=H(`
        Red`),u=F(),c=k("label"),f=k("input"),_=H(`
        Blue`),w=F(),h=k("h3"),h.textContent="Game ID",v=F(),g=k("p"),a=F(),p=k("button"),p.textContent="Get ID",C=F(),A=k("button"),A.textContent="Copy URL for opponent",T=F(),y=k("span"),I=H($),l.checked=o=t[0].playerIsFirst===!0,b(l,"name","color"),b(l,"type","radio"),l.__value=!0,te(l,l.__value),f.checked=d=t[0].playerIsFirst===!1,b(f,"name","color"),b(f,"type","radio"),f.__value=!1,te(f,f.__value),b(g,"contenteditable","false"),t[0].id===void 0&&Z(()=>t[15].call(g)),b(e,"class","settingsContainer"),O.p(l,f)},m(P,W){S(P,e,W),m(e,n),m(e,r),m(e,i),m(i,l),l.checked=l.__value===t[0].playerIsFirst,m(i,s),m(e,u),m(e,c),m(c,f),f.checked=f.__value===t[0].playerIsFirst,m(c,_),m(e,w),m(e,h),m(e,v),m(e,g),t[0].id!==void 0&&(g.innerText=t[0].id),m(e,a),m(e,p),m(e,C),m(e,A),m(e,T),m(e,y),m(y,I),G||(N=[j(l,"change",t[13]),j(f,"change",t[14]),j(g,"input",t[15]),j(p,"click",t[16]),j(A,"click",t[2])],G=!0)},p(P,W){W&1&&o!==(o=P[0].playerIsFirst===!0)&&(l.checked=o),W&1&&(l.checked=l.__value===P[0].playerIsFirst),W&1&&d!==(d=P[0].playerIsFirst===!1)&&(f.checked=d),W&1&&(f.checked=f.__value===P[0].playerIsFirst),W&1&&P[0].id!==g.innerText&&(g.innerText=P[0].id),W&1&&$!==($=`?id=${P[0].id}&fir=${P[0].playerIsFirst===!0?0:1}`)&&rt(I,$)},d(P){P&&D(e),O.r(),G=!1,J(N)}}}function en(t){let e,n,r,i,l,o,s,u,c,f,d,_,w,h,v,g,a,p,C,A,T,y,$,I,O,G,N,P,W,ve,ke,we,je;return ve=Ee(t[8][0]),ke=Ee(t[8][1]),{c(){e=k("div"),n=k("h3"),n.textContent="Choose Your Color",r=F(),i=k("label"),l=k("input"),s=H(`
        Red`),u=F(),c=k("label"),f=k("input"),_=H(`
        Blue`),w=F(),h=k("h3"),h.textContent="AI Difficulty",v=F(),g=k("label"),a=k("input"),C=H(`
        Easy`),A=F(),T=k("label"),y=k("input"),I=H(`
        Medium`),O=F(),G=k("label"),N=k("input"),W=H(`
        Hard`),l.checked=o=t[0].playerIsFirst===!0,b(l,"name","color"),b(l,"type","radio"),l.__value=!0,te(l,l.__value),f.checked=d=t[0].playerIsFirst===!1,b(f,"name","color"),b(f,"type","radio"),f.__value=!1,te(f,f.__value),a.checked=p=t[0].botDiff==="easy",b(a,"name","AiDifficulty"),b(a,"type","radio"),a.__value="easy",te(a,a.__value),y.checked=$=t[0].botDiff==="medium",b(y,"name","AiDifficulty"),b(y,"type","radio"),y.__value="medium",te(y,y.__value),N.checked=P=t[0].botDiff==="hard",b(N,"name","AiDifficulty"),b(N,"type","radio"),N.__value="hard",te(N,N.__value),b(e,"class","settingsContainer"),ve.p(a,y,N),ke.p(l,f)},m(L,q){S(L,e,q),m(e,n),m(e,r),m(e,i),m(i,l),l.checked=l.__value===t[0].playerIsFirst,m(i,s),m(e,u),m(e,c),m(c,f),f.checked=f.__value===t[0].playerIsFirst,m(c,_),m(e,w),m(e,h),m(e,v),m(e,g),m(g,a),a.checked=a.__value===t[0].botDiff,m(g,C),m(e,A),m(e,T),m(T,y),y.checked=y.__value===t[0].botDiff,m(T,I),m(e,O),m(e,G),m(G,N),N.checked=N.__value===t[0].botDiff,m(G,W),we||(je=[j(l,"change",t[7]),j(f,"change",t[9]),j(a,"change",t[10]),j(y,"change",t[11]),j(N,"change",t[12])],we=!0)},p(L,q){q&1&&o!==(o=L[0].playerIsFirst===!0)&&(l.checked=o),q&1&&(l.checked=l.__value===L[0].playerIsFirst),q&1&&d!==(d=L[0].playerIsFirst===!1)&&(f.checked=d),q&1&&(f.checked=f.__value===L[0].playerIsFirst),q&1&&p!==(p=L[0].botDiff==="easy")&&(a.checked=p),q&1&&(a.checked=a.__value===L[0].botDiff),q&1&&$!==($=L[0].botDiff==="medium")&&(y.checked=$),q&1&&(y.checked=y.__value===L[0].botDiff),q&1&&P!==(P=L[0].botDiff==="hard")&&(N.checked=P),q&1&&(N.checked=N.__value===L[0].botDiff)},d(L){L&&D(e),ve.r(),ke.r(),we=!1,J(je)}}}function tn(t){let e,n,r,i,l,o,s,u,c,f,d,_;function w(g,a){if(g[1]==1)return en;if(g[1]==3)return xt}let h=w(t),v=h&&h(t);return{c(){e=k("div"),n=k("div"),r=k("button"),r.textContent="Single Player",i=F(),l=k("button"),l.textContent="Local Multiplayer",o=F(),s=k("button"),s.textContent="Online Multiplayer",u=F(),v&&v.c(),c=F(),f=k("button"),f.textContent="Play",b(n,"class","modeButtons svelte-6cmh67"),b(e,"id","container"),b(e,"class","svelte-6cmh67")},m(g,a){S(g,e,a),m(e,n),m(n,r),m(n,i),m(n,l),m(n,o),m(n,s),m(e,u),v&&v.m(e,null),m(e,c),m(e,f),d||(_=[j(r,"click",t[4]),j(l,"click",t[5]),j(s,"click",t[6]),j(f,"click",t[3])],d=!0)},p(g,[a]){h===(h=w(g))&&v?v.p(g,a):(v&&v.d(1),v=h&&h(g),v&&(v.c(),v.m(e,c)))},i:B,o:B,d(g){g&&D(e),v&&v.d(),d=!1,J(_)}}}async function nn(){return(await(await fetch("/multiplayer/create_game",{method:"POST",headers:{"Content-Type":"0"}})).json()).id}function rn(t,e,n){let r;Se(t,ye,I=>n(17,r=I));let i={};i={playerIsFirst:!0,botDiff:"easy"};let l=1,o=new URLSearchParams(document.location.search),s=o.get("fir"),u=parseInt(o.get("id"),10);history.pushState(null,"",location.href.split("?")[0]),console.log("here1"),console.log(u),Ae(()=>{isNaN(u)?n(0,i={playerIsFirst:!0,botDiff:"easy"}):(console.log("here"),n(0,i={id:u,playerIsFirst:s==="1"}),n(1,l=3))});function c(){let I=window.location.href,O=`?id=${i.id}&fir=${i.playerIsFirst===!0?0:1}`;navigator.clipboard.writeText(I+O)}function f(){mt(ye,r={mode:l,modeSettings:i},r)}const d=[[],[]],_=()=>{n(1,l=1),n(0,i={playerIsFirst:!0,botDiff:"easy"})},w=()=>{n(1,l=2),n(0,i={})},h=()=>{n(1,l=3),n(0,i={id:"None",playerIsFirst:!0})};function v(){i.playerIsFirst=this.__value,n(0,i)}function g(){i.playerIsFirst=this.__value,n(0,i)}function a(){i.botDiff=this.__value,n(0,i)}function p(){i.botDiff=this.__value,n(0,i)}function C(){i.botDiff=this.__value,n(0,i)}function A(){i.playerIsFirst=this.__value,n(0,i)}function T(){i.playerIsFirst=this.__value,n(0,i)}function y(){i.id=this.innerText,n(0,i)}return[i,l,c,f,_,w,h,v,d,g,a,p,C,A,T,y,()=>{nn().then(I=>n(0,i.id=I,i))}]}class ln extends V{constructor(e){super(),K(this,e,rn,tn,Y,{})}}function Ke(t){let e,n;return e=new Pe({props:{gameText:t[1]}}),e.$on("replayClicked",t[6]),e.$on("menuClicked",t[7]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const l={};i&2&&(l.gameText=r[1]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function on(t){let e,n,r,i=t[0]&&Ke(t),l={};return n=new Ne({props:l}),t[8](n),n.$on("playerMove",t[9]),n.$on("error",t[10]),n.$on("gameEnd",t[11]),{c(){i&&i.c(),e=F(),U(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),R(n,o,s),r=!0},p(o,[s]){o[0]?i?(i.p(o,s),s&1&&E(i,1)):(i=Ke(o),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),me());const u={};n.$set(u)},i(o){r||(E(i),E(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[8](null),z(n,o)}}}function sn(t,e,n){let{botDiff:r="easy"}=e,{playerIsFirst:i=!0}=e,l=fe(),o=!1,s="",u;Ae(()=>{i||(u.disableButtons(),c())});async function c(){let a=await fetch("/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:u.getBoard(),difficulty:r})});if(!a.ok){console.log("Could not get AI move from server"),f("Could not get AI move from server");return}let C=(await a.json()).move;u.playMove(C),u.enableButtons()}function f(a=""){l("error",{message:a})}const d=()=>{n(0,o=!1),u.clear()};function _(a){ne.call(this,t,a)}function w(a){re[a?"unshift":"push"](()=>{u=a,n(2,u)})}const h=()=>{u.gameOver()||c()};function v(a){ne.call(this,t,a)}const g=a=>{n(1,s=a.detail.message),n(0,o=!0)};return t.$$set=a=>{"botDiff"in a&&n(4,r=a.botDiff),"playerIsFirst"in a&&n(5,i=a.playerIsFirst)},[o,s,u,c,r,i,d,_,w,h,v,g]}class un extends V{constructor(e){super(),K(this,e,sn,on,Y,{botDiff:4,playerIsFirst:5})}}function Ve(t){let e,n;return e=new Pe({props:{gameText:t[2]}}),e.$on("replayClicked",t[7]),e.$on("menuClicked",t[8]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function fn(t){let e,n,r,i=t[1]&&Ve(t),l={};return n=new Ne({props:l}),t[9](n),n.$on("playerMove",t[10]),n.$on("error",t[11]),n.$on("gameEnd",t[12]),{c(){i&&i.c(),e=F(),U(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),R(n,o,s),r=!0},p(o,[s]){o[1]?i?(i.p(o,s),s&2&&E(i,1)):(i=Ve(o),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),me());const u={};n.$set(u)},i(o){r||(E(i),E(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[9](null),z(n,o)}}}function Me(t,e){let n=[];for(let r=0;r<7;r++)for(let i=0;i<6;i++)if(e[i][r]!==t[i][r]){if(t[i][r]!==0)return[];n.push(r)}return n}function cn(t,e,n){let{playerIsFirst:r=!0}=e,{gameId:i=-1}=e;const l=fe();let o,s=!1,u="";console.log(r),console.log(i),Ae(()=>{r?o.enableButtons():(o.disableButtons(),d())});function c(p=""){l("error",{message:p})}async function f(p){let C=await fetch("/multiplayer/make_move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_move:p,is_first:r,game_id:i})});C.ok||(console.log(await C.blob()),c("Could not get opponent move")),o.gameOver()||d()}async function d(){let p=await fetch("/multiplayer/get_board",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:i,current_board:o.getBoard()})});if(!p.ok){c("Could not get opponents move");return}let A=(await p.json()).board,T=Me(o.getBoard(),A);if(T.length!==1){c("Unexpected moves from server");return}o.playMove(T[0]),o.enableButtons()}const _=()=>{n(1,s=!1),o.clear()};function w(p){ne.call(this,t,p)}function h(p){re[p?"unshift":"push"](()=>{o=p,n(0,o)})}const v=p=>f(p.detail.col);function g(p){ne.call(this,t,p)}const a=p=>{n(2,u=p.detail.message),n(1,s=!0)};return t.$$set=p=>{"playerIsFirst"in p&&n(4,r=p.playerIsFirst),"gameId"in p&&n(5,i=p.gameId)},[o,s,u,f,r,i,Me,_,w,h,v,g,a]}class an extends V{constructor(e){super(),K(this,e,cn,fn,Y,{playerIsFirst:4,gameId:5,extractNewMoves:6})}get extractNewMoves(){return Me}}function ee(t,{delay:e=0,duration:n=400,easing:r=Oe}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:l=>`opacity: ${l*i}`}}function dn(t){let e;return{c(){e=k("div"),e.innerHTML='<a href="https://www.apple.com" class="red svelte-6mk8v8"><xml version="1.0" encoding="utf-8"><svg class="red svelte-6mk8v8" width="800px" height="800px" viewBox="0 0 24 24" fill="blue" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 7.063C16.5 10.258 14.57 13 12 13c-2.572 0-4.5-2.742-4.5-5.938C7.5 3.868 9.16 2 12 2s4.5 1.867 4.5 5.063zM4.102 20.142C4.487 20.6 6.145 22 12 22c5.855 0 7.512-1.4 7.898-1.857a.416.416 0 0 0 .09-.317C19.9 18.944 19.106 15 12 15s-7.9 3.944-7.989 4.826a.416.416 0 0 0 .091.317z"></path></svg></xml></a> <div class="title svelte-6mk8v8"><svg viewBox="0, 0, 100, 100" class="svelte-6mk8v8"><circle cx="50" cy="50" r="50" fill="#e53935"></circle></svg> <h1 class="svelte-6mk8v8">Four In a Row</h1> <svg viewBox="0, 0, 100, 100" class="svelte-6mk8v8"><circle cx="50" cy="50" r="50" fill="#04bfbf"></circle></svg></div> <a href="https://www.github.com/TimB44/four-in-a-row" class="blue svelte-6mk8v8"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="blue svelte-6mk8v8"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a>',b(e,"class","header svelte-6mk8v8")},m(n,r){S(n,e,r)},p:B,i:B,o:B,d(n){n&&D(e)}}}class pn extends V{constructor(e){super(),K(this,e,null,dn,Y,{})}}function mn(t){let e,n,r,i;return n=new an({props:{playerIsFirst:t[0].modeSettings.playerIsFirst,gameId:t[0].modeSettings.id}}),n.$on("menuClicked",t[1]),n.$on("gameEnd(gameEnd)",t[2]),{c(){e=k("div"),U(n.$$.fragment)},m(l,o){S(l,e,o),R(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),o&1&&(s.gameId=l[0].modeSettings.id),n.$set(s)},i(l){i||(E(n.$$.fragment,l),l&&Z(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function _n(t){let e,n,r,i;return n=new Zt({}),n.$on("error",ft),n.$on("menuClicked",t[1]),{c(){e=k("div"),U(n.$$.fragment)},m(l,o){S(l,e,o),R(n,e,null),i=!0},p:B,i(l){i||(E(n.$$.fragment,l),l&&Z(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function hn(t){let e,n,r,i;return n=new un({props:{botDiff:t[0].modeSettings.botDiff,playerIsFirst:t[0].modeSettings.playerIsFirst}}),n.$on("error",ft),n.$on("menuClicked",t[1]),{c(){e=k("div"),U(n.$$.fragment)},m(l,o){S(l,e,o),R(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.botDiff=l[0].modeSettings.botDiff),o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),n.$set(s)},i(l){i||(E(n.$$.fragment,l),l&&Z(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function gn(t){let e,n,r,i;return n=new ln({}),{c(){e=k("div"),U(n.$$.fragment)},m(l,o){S(l,e,o),R(n,e,null),i=!0},p:B,i(l){i||(E(n.$$.fragment,l),l&&Z(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function bn(t){let e,n,r,i,l,o;e=new pn({});const s=[gn,hn,_n,mn],u=[];function c(f,d){return f[0].mode===0?0:f[0].mode===1?1:f[0].mode===2?2:f[0].mode===3?3:-1}return~(r=c(t))&&(i=u[r]=s[r](t)),{c(){U(e.$$.fragment),n=F(),i&&i.c(),l=nt()},m(f,d){R(e,f,d),S(f,n,d),~r&&u[r].m(f,d),S(f,l,d),o=!0},p(f,[d]){let _=r;r=c(f),r===_?~r&&u[r].p(f,d):(i&&(pe(),M(u[_],1,1,()=>{u[_]=null}),me()),~r?(i=u[r],i?i.p(f,d):(i=u[r]=s[r](f),i.c()),E(i,1),i.m(l.parentNode,l)):i=null)},i(f){o||(E(e.$$.fragment,f),E(i),o=!0)},o(f){M(e.$$.fragment,f),M(i),o=!1},d(f){f&&(D(n),D(l)),z(e,f),~r&&u[r].d(f)}}}function ft(t){console.error(t.detail.message),alert("Error: Page will be refreshed"),location.reload()}function yn(t,e,n){let r;Se(t,ye,o=>n(0,r=o));function i(){ye.set({mode:0,modeSettings:{}})}function l(o){ne.call(this,t,o)}return[r,i,l]}class vn extends V{constructor(e){super(),K(this,e,yn,bn,Y,{})}}new vn({target:document.getElementById("app")});
