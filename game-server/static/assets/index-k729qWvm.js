var lt=Object.defineProperty;var ot=(e,t,n)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(ot(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function T(){}const Fe=e=>e;function Ne(e,t){for(const n in t)e[n]=t[n];return e}function Ye(e){return e()}function Te(){return Object.create(null)}function J(e){e.forEach(Ye)}function De(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function st(e){return Object.keys(e).length===0}function ut(e,...t){if(e==null){for(const r of t)r(void 0);return T}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ke(e,t,n){e.$$.on_destroy.push(ut(t,n))}const Ve=typeof window<"u";let Qe=Ve?()=>window.performance.now():()=>Date.now(),Se=Ve?e=>requestAnimationFrame(e):T;const le=new Set;function Xe(e){le.forEach(t=>{t.c(e)||(le.delete(t),t.f())}),le.size!==0&&Se(Xe)}function Ze(e){let t;return le.size===0&&Se(Xe),{promise:new Promise(n=>{le.add(t={c:e,f:n})}),abort(){le.delete(t)}}}function m(e,t){e.appendChild(t)}function xe(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ft(e){const t=E("style");return t.textContent="/* empty */",ct(xe(e),t),t.sheet}function ct(e,t){return m(e.head||e,t),t.sheet}function j(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function E(e){return document.createElement(e)}function H(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e){return document.createTextNode(e)}function A(){return q(" ")}function at(){return q("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ke(e){let t;return{p(...n){t=n,t.forEach(r=>e.push(r))},r(){t.forEach(n=>e.splice(e.indexOf(n),1))}}}function dt(e){return Array.from(e.childNodes)}function pt(e,t){t=""+t,e.data!==t&&(e.data=t)}function ee(e,t){e.value=t??""}function et(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const de=new Map;let pe=0;function ht(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function _t(e,t){const n={stylesheet:ft(t),rules:{}};return de.set(e,n),n}function Re(e,t,n,r,i,l,o,u=0){const s=16.666/r;let f=`{
`;for(let p=0;p<=1;p+=s){const b=t+(n-t)*l(p);f+=p*100+`%{${o(b,1-b)}}
`}const d=f+`100% {${o(n,1-n)}}
}`,a=`__svelte_${ht(d)}_${u}`,_=xe(e),{stylesheet:$,rules:c}=de.get(_)||_t(_,e);c[a]||(c[a]=!0,$.insertRule(`@keyframes ${a} ${d}`,$.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${a} ${r}ms linear ${i}ms 1 both`,pe+=1,a}function mt(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?l=>l.indexOf(t)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),pe-=i,pe||gt())}function gt(){Se(()=>{pe||(de.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),de.clear())})}let fe;function ue(e){fe=e}function tt(){if(!fe)throw new Error("Function called outside component initialization");return fe}function Ae(e){tt().$$.on_mount.push(e)}function ce(){const e=tt();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=et(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,l)}),!l.defaultPrevented}return!0}}function bt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const ie=[],L=[];let oe=[];const Le=[],yt=Promise.resolve();let $e=!1;function wt(){$e||($e=!0,yt.then(nt))}function K(e){oe.push(e)}const ye=new Set;let ne=0;function nt(){if(ne!==0)return;const e=fe;do{try{for(;ne<ie.length;){const t=ie[ne];ne++,ue(t),kt(t.$$)}}catch(t){throw ie.length=0,ne=0,t}for(ue(null),ie.length=0,ne=0;L.length;)L.pop()();for(let t=0;t<oe.length;t+=1){const n=oe[t];ye.has(n)||(ye.add(n),n())}oe.length=0}while(ie.length);for(;Le.length;)Le.pop()();$e=!1,ye.clear(),ue(e)}function kt(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function $t(e){const t=[],n=[];oe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),oe=t}let se;function vt(){return se||(se=Promise.resolve(),se.then(()=>{se=null})),se}function we(e,t,n){e.dispatchEvent(et(`${t?"intro":"outro"}${n}`))}const ae=new Set;let Y;function ve(){Y={r:0,c:[],p:Y}}function Ie(){Y.r||J(Y.c),Y=Y.p}function M(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(ae.has(e))return;ae.add(e),Y.c.push(()=>{ae.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const It={duration:0};function Q(e,t,n,r){let l=t(e,n,{direction:"both"}),o=r?0:1,u=null,s=null,f=null,d;function a(){f&&mt(e,f)}function _(c,h){const p=c.b-o;return h*=Math.abs(p),{a:o,b:c.b,d:p,duration:h,start:c.start,end:c.start+h,group:c.group}}function $(c){const{delay:h=0,duration:p=300,easing:b=Fe,tick:I=T,css:F}=l||It,S={start:Qe()+h,b:c};c||(S.group=Y,Y.r+=1),"inert"in e&&(c?d!==void 0&&(e.inert=d):(d=e.inert,e.inert=!0)),u||s?s=S:(F&&(a(),f=Re(e,o,c,p,h,b,F)),c&&I(0,1),u=_(S,p),K(()=>we(e,c,"start")),Ze(k=>{if(s&&k>s.start&&(u=_(s,p),s=null,we(e,u.b,"start"),F&&(a(),f=Re(e,o,u.b,u.duration,0,b,l.css))),u){if(k>=u.end)I(o=u.b,1-o),we(e,u.b,"end"),s||(u.b?a():--u.group.r||J(u.group.c)),u=null;else if(k>=u.start){const v=k-u.start;o=u.a+u.d*b(v/u.duration),I(o,1-o)}}return!!(u||s)}))}return{run(c){De(l)?vt().then(()=>{l=l({direction:c?"in":"out"}),$(c)}):$(c)},end(){a(),u=s=null}}}function he(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Et(e,t){e.d(1),t.delete(e.key)}function Ct(e,t){B(e,1,1,()=>{t.delete(e.key)})}function rt(e,t,n,r,i,l,o,u,s,f,d,a){let _=e.length,$=l.length,c=_;const h={};for(;c--;)h[e[c].key]=c;const p=[],b=new Map,I=new Map,F=[];for(c=$;c--;){const g=a(i,l,c),w=n(g);let C=o.get(w);C?r&&F.push(()=>C.p(g,t)):(C=f(w,g),C.c()),b.set(w,p[c]=C),w in h&&I.set(w,Math.abs(c-h[w]))}const S=new Set,k=new Set;function v(g){M(g,1),g.m(u,d),o.set(g.key,g),d=g.first,$--}for(;_&&$;){const g=p[$-1],w=e[_-1],C=g.key,D=w.key;g===w?(d=g.first,_--,$--):b.has(D)?!o.has(C)||S.has(C)?v(g):k.has(D)?_--:I.get(C)>I.get(D)?(k.add(C),v(g)):(S.add(D),_--):(s(w,o),_--)}for(;_--;){const g=e[_];b.has(g.key)||s(g,o)}for(;$;)v(p[$-1]);return J(F),p}function U(e){e&&e.c()}function W(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),K(()=>{const l=e.$$.on_mount.map(Ye).filter(De);e.$$.on_destroy?e.$$.on_destroy.push(...l):J(l),e.$$.on_mount=[]}),i.forEach(K)}function z(e,t){const n=e.$$;n.fragment!==null&&($t(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ft(e,t){e.$$.dirty[0]===-1&&(ie.push(e),wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,n,r,i,l,o=null,u=[-1]){const s=fe;ue(e);const f=e.$$={fragment:null,ctx:[],props:l,update:T,not_equal:i,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Te(),dirty:u,skip_bound:!1,root:t.target||s.$$.root};o&&o(f.root);let d=!1;if(f.ctx=n?n(e,t.props||{},(a,_,...$)=>{const c=$.length?$[0]:_;return f.ctx&&i(f.ctx[a],f.ctx[a]=c)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](c),d&&Ft(e,a)),_}):[],f.update(),d=!0,J(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const a=dt(t.target);f.fragment&&f.fragment.l(a),a.forEach(P)}else f.fragment&&f.fragment.c();t.intro&&M(e.$$.fragment),W(e,t.target,t.anchor),nt()}ue(s)}class x{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){z(this,1),this.$destroy=T}$on(t,n){if(!De(n))return T;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!st(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dt);function Oe(e){let t=At(e);return t!==0||(t=Ot(e),t!==0)||(t=Pt(e),t!==0)||(t=Mt(e)),t}function St(e,t){for(let n=0;n<t.length;n++)if(t[n][e]===0)return n;return 6}function At(e){for(let t=0;t<3;t++)e:for(let n=0;n<7;n++){let r=e[t][n];if(r!==0){for(let i=1;i<4;i++)if(e[t+i][n]!==r)continue e;return r}}return 0}function Ot(e){for(let t=0;t<6;t++)e:for(let n=0;n<4;n++){let r=e[t][n];if(r!==0){for(let i=1;i<4;i++)if(e[t][n+i]!==r)continue e;return r}}return 0}function Pt(e){for(let t=0;t<3;t++)e:for(let n=0;n<4;n++){let r=e[t][n];if(r!==0){for(let i=1;i<4;i++)if(e[t+i][n+i]!==r)continue e;return r}}return 0}function Mt(e){for(let t=3;t<6;t++)e:for(let n=0;n<4;n++){let r=e[t][n];if(r!==0){for(let i=1;i<4;i++)if(e[t-i][n+i]!==r)continue e;return r}}return 0}const re=[];function it(e,t=T){let n;const r=new Set;function i(u){if(V(e,u)&&(e=u,n)){const s=!re.length;for(const f of r)f[1](),re.push(f,e);if(s){for(let f=0;f<re.length;f+=2)re[f][0](re[f+1]);re.length=0}}}function l(u){i(u(e))}function o(u,s=T){const f=[u,s];return r.add(f),r.size===1&&(n=t(i,l)||T),u(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function Ge(e){return Object.prototype.toString.call(e)==="[object Date]"}function jt(e){const t=e-1;return t*t*t+1}function Ee(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,l)=>Ee(e[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ge(e)&&Ge(t)){e=e.getTime(),t=t.getTime();const l=t-e;return o=>new Date(e+o*l)}const r=Object.keys(t),i={};return r.forEach(l=>{i[l]=Ee(e[l],t[l])}),l=>{const o={};return r.forEach(u=>{o[u]=i[u](l)}),o}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Bt(e,t={}){const n=it(e);let r,i=e;function l(o,u){if(e==null)return n.set(e=o),Promise.resolve();i=o;let s=r,f=!1,{delay:d=0,duration:a=400,easing:_=Fe,interpolate:$=Ee}=Ne(Ne({},t),u);if(a===0)return s&&(s.abort(),s=null),n.set(e=i),Promise.resolve();const c=Qe()+d;let h;return r=Ze(p=>{if(p<c)return!0;f||(h=$(e,o),typeof a=="function"&&(a=a(e,o)),f=!0),s&&(s.abort(),s=null);const b=p-c;return b>a?(n.set(e=o),!1):(n.set(e=h(_(b/a))),!0)}),r.promise}return{set:l,update:(o,u)=>l(o(i,e),u),subscribe:n.subscribe}}function Nt(e){let t,n;return{c(){t=H("circle"),y(t,"cx",e[2]),y(t,"cy",e[1]),y(t,"r","45"),y(t,"fill",n=e[0]==="red"?"#E53734":"#04BEBE")},m(r,i){j(r,t,i)},p(r,[i]){i&2&&y(t,"cy",r[1]),i&1&&n!==(n=r[0]==="red"?"#E53734":"#04BEBE")&&y(t,"fill",n)},i:T,o:T,d(r){r&&P(t)}}}function Tt(e,t,n){let r,{row:i}=t,{col:l}=t,{color:o}=t,u=50+100*l,s=Bt(50,{delay:50,easing:jt,duration:(f,d)=>Math.sqrt(Math.abs(f-d)*400)});return Ke(e,s,f=>n(1,r=f)),s.set(150+100*(5-i)),e.$$set=f=>{"row"in f&&n(4,i=f.row),"col"in f&&n(5,l=f.col),"color"in f&&n(0,o=f.color)},[o,r,u,s,i,l]}class Rt extends x{constructor(t){super(),Z(this,t,Tt,Nt,V,{row:4,col:5,color:0})}}function We(e,t,n){const r=e.slice();return r[3]=t[n].row,r[4]=t[n].col,r[5]=t[n].color,r[7]=n,r}function ze(e,t){let n,r,i;return r=new Rt({props:{row:t[3],col:t[4],color:t[5]}}),{key:e,first:null,c(){n=at(),U(r.$$.fragment),this.first=n},m(l,o){j(l,n,o),W(r,l,o),i=!0},p(l,o){t=l;const u={};o&1&&(u.row=t[3]),o&1&&(u.col=t[4]),o&1&&(u.color=t[5]),r.$set(u)},i(l){i||(M(r.$$.fragment,l),i=!0)},o(l){B(r.$$.fragment,l),i=!1},d(l){l&&P(n),z(r,l)}}}function Lt(e){let t,n,r,i,l,o,u,s=[],f=new Map,d,a,_=he(e[0]);const $=c=>c[7];for(let c=0;c<_.length;c+=1){let h=We(e,_,c),p=$(h);f.set(p,s[c]=ze(p,h))}return{c(){t=H("svg"),n=H("defs"),r=H("pattern"),i=H("circle"),l=H("mask"),o=H("rect"),u=H("rect");for(let c=0;c<s.length;c+=1)s[c].c();d=H("rect"),y(i,"cx","50"),y(i,"cy","50"),y(i,"r","45"),y(i,"fill","black"),y(r,"id","cell-pattern"),y(r,"patternUnits","userSpaceOnUse"),y(r,"width","100"),y(r,"height","100"),y(o,"width","700"),y(o,"height","700"),y(o,"fill","white"),y(u,"width","700"),y(u,"height","700"),y(u,"fill","url(#cell-pattern)"),y(l,"id","cell-mask"),y(d,"x","0"),y(d,"y","100"),y(d,"height","600"),y(d,"width","700"),y(d,"fill","#303030"),y(d,"mask","url(#cell-mask)"),y(t,"viewBox","0 0 700 700"),y(t,"xmlns","http://www.w3.org/2000/svg"),y(t,"class","svelte-109c4ss")},m(c,h){j(c,t,h),m(t,n),m(n,r),m(r,i),m(n,l),m(l,o),m(l,u);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(t,null);m(t,d),a=!0},p(c,[h]){h&1&&(_=he(c[0]),ve(),s=rt(s,h,$,1,c,_,f,t,Ct,ze,d,We),Ie())},i(c){if(!a){for(let h=0;h<_.length;h+=1)M(s[h]);a=!0}},o(c){for(let h=0;h<s.length;h+=1)B(s[h]);a=!1},d(c){c&&P(t);for(let h=0;h<s.length;h+=1)s[h].d()}}}function Gt(e,t,n){let r=[];function i(o,u,s){n(0,r=[...r,{row:o,col:u,color:s}])}function l(){n(0,r=[])}return[r,i,l]}class Pe extends x{constructor(t){super(),Z(this,t,Gt,Lt,V,{placePiece:1,clear:2})}get placePiece(){return this.$$.ctx[1]}get clear(){return this.$$.ctx[2]}}function Ue(e,t,n){const r=e.slice();return r[8]=t[n],r[9]=t,r[10]=n,r}function qe(e,t){let n,r=t[10],i,l;const o=()=>t[5](n,r),u=()=>t[5](null,r);function s(){return t[6](t[10])}return{key:e,first:null,c(){n=E("button"),y(n,"class","svelte-1bhaxd"),this.first=n},m(f,d){j(f,n,d),o(),i||(l=N(n,"click",s),i=!0)},p(f,d){t=f,r!==t[10]&&(u(),r=t[10],o())},d(f){f&&P(n),u(),i=!1,l()}}}function Wt(e){let t,n=[],r=new Map,i=he(Array(7));const l=o=>o[10];for(let o=0;o<i.length;o+=1){let u=Ue(e,i,o),s=l(u);r.set(s,n[o]=qe(s,u))}return{c(){t=E("div");for(let o=0;o<n.length;o+=1)n[o].c();y(t,"class","svelte-1bhaxd")},m(o,u){j(o,t,u);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null)},p(o,[u]){u&3&&(i=he(Array(7)),n=rt(n,u,l,1,o,i,r,t,Et,qe,null,Ue))},i:T,o:T,d(o){o&&P(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function zt(e,t,n){const r=ce();let i=[];function l(){i.forEach(a=>a.disabled=!0)}function o(){i.forEach(a=>a.disabled=!1)}function u(a,_){a<0||a>6||n(0,i[a].disabled=_,i)}function s(a){a<0||a>6||r("buttonClick",{col:a})}function f(a,_){L[a?"unshift":"push"](()=>{i[_]=a,n(0,i)})}return[i,s,l,o,u,f,a=>s(a)]}class Me extends x{constructor(t){super(),Z(this,t,zt,Wt,V,{disable:2,enable:3,setCol:4})}get disable(){return this.$$.ctx[2]}get enable(){return this.$$.ctx[3]}get setCol(){return this.$$.ctx[4]}}function Ut(e){let t,n,r,i,l,o={};n=new Pe({props:o}),e[6](n);let u={};return i=new Me({props:u}),e[7](i),i.$on("buttonClick",e[8]),{c(){t=E("div"),U(n.$$.fragment),r=A(),U(i.$$.fragment)},m(s,f){j(s,t,f),W(n,t,null),m(t,r),W(i,t,null),l=!0},p(s,[f]){const d={};n.$set(d);const a={};i.$set(a)},i(s){l||(M(n.$$.fragment,s),M(i.$$.fragment,s),l=!0)},o(s){B(n.$$.fragment,s),B(i.$$.fragment,s),l=!1},d(s){s&&P(t),e[6](null),z(n),e[7](null),z(i)}}}function qt(e,t,n){const r=ce();let i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,u,s;function f(I){r("gameEnd",{message:I,error:!1})}function d(I){for(let F=0;F<l.length;F++)if(l[F][I]===0)return F;return 6}function a(I){for(let v=0;v<7;v++)u.setCol(v,!0);let F=d(I);F===5&&(i[I]=!0);let S=o%2===0?1:-1;l[F][I]=S,s.placePiece(F,I,S===1?"red":"blue"),o++;let k=Oe(l);if(k!==0){f(`${k==1?"Red":"Blue"} Wins!`);return}o==42&&f("Draw");for(let v=0;v<7;v++)u.setCol(v,i[v])}function _(){$()}function $(){i.fill(!1),l.forEach(I=>I.fill(0)),o=0,s.clear(),u.enable()}function c(){_()}function h(I){L[I?"unshift":"push"](()=>{s=I,n(1,s)})}function p(I){L[I?"unshift":"push"](()=>{u=I,n(0,u)})}return[u,s,a,_,$,c,h,p,I=>{a(I.detail.col)}]}class Jt extends x{constructor(t){super(),Z(this,t,qt,Ut,V,{start:3,clear:4,restart:5})}get start(){return this.$$.ctx[3]}get clear(){return this.$$.ctx[4]}get restart(){return this.$$.ctx[5]}}const Ce=it({mode:1,modeSettings:{}});function Ht(e){let t,n,r,i,l,o,u,s,f,d,a,_,$,c,h,p,b,I,F,S,k,v,g;return k=ke(e[10][1]),{c(){t=E("div"),n=E("h3"),n.textContent="Choose Your Color",r=A(),i=E("label"),l=E("input"),u=q(`
        Red`),s=A(),f=E("label"),d=E("input"),_=q(`
        Blue`),$=A(),c=E("h3"),c.textContent="Game ID",h=A(),p=E("p"),b=A(),I=E("button"),I.textContent="Get ID",F=A(),S=E("button"),S.textContent="Copy URL for opponent",l.checked=o=e[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,ee(l,l.__value),d.checked=a=e[0].playerIsFirst===!1,y(d,"name","color"),y(d,"type","radio"),d.__value=!1,ee(d,d.__value),y(p,"contenteditable","false"),e[0].id===void 0&&K(()=>e[17].call(p)),y(t,"class","settingsContainer"),k.p(l,d)},m(w,C){j(w,t,C),m(t,n),m(t,r),m(t,i),m(i,l),l.checked=l.__value===e[0].playerIsFirst,m(i,u),m(t,s),m(t,f),m(f,d),d.checked=d.__value===e[0].playerIsFirst,m(f,_),m(t,$),m(t,c),m(t,h),m(t,p),e[0].id!==void 0&&(p.innerText=e[0].id),m(t,b),m(t,I),m(t,F),m(t,S),v||(g=[N(l,"change",e[15]),N(d,"change",e[16]),N(p,"input",e[17]),N(I,"click",e[18]),N(S,"click",e[4])],v=!0)},p(w,C){C&1&&o!==(o=w[0].playerIsFirst===!0)&&(l.checked=o),C&1&&(l.checked=l.__value===w[0].playerIsFirst),C&1&&a!==(a=w[0].playerIsFirst===!1)&&(d.checked=a),C&1&&(d.checked=d.__value===w[0].playerIsFirst),C&1&&w[0].id!==p.innerText&&(p.innerText=w[0].id)},d(w){w&&P(t),k.r(),v=!1,J(g)}}}function Yt(e){let t,n,r,i,l,o,u,s,f,d,a,_,$,c,h,p,b,I,F,S,k,v,g,w,C,D,O,te,je,_e,me,ge,Be;return _e=ke(e[10][0]),me=ke(e[10][1]),{c(){t=E("div"),n=E("h3"),n.textContent="Choose Your Color",r=A(),i=E("label"),l=E("input"),u=q(`
        Red`),s=A(),f=E("label"),d=E("input"),_=q(`
        Blue`),$=A(),c=E("h3"),c.textContent="AI Difficulty",h=A(),p=E("label"),b=E("input"),F=q(`
        Easy`),S=A(),k=E("label"),v=E("input"),w=q(`
        Medium`),C=A(),D=E("label"),O=E("input"),je=q(`
        Hard`),l.checked=o=e[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,ee(l,l.__value),d.checked=a=e[0].playerIsFirst===!1,y(d,"name","color"),y(d,"type","radio"),d.__value=!1,ee(d,d.__value),b.checked=I=e[0].botDiff==="easy",y(b,"name","AiDifficulty"),y(b,"type","radio"),b.__value="easy",ee(b,b.__value),v.checked=g=e[0].botDiff==="medium",y(v,"name","AiDifficulty"),y(v,"type","radio"),v.__value="medium",ee(v,v.__value),O.checked=te=e[0].botDiff==="hard",y(O,"name","AiDifficulty"),y(O,"type","radio"),O.__value="hard",ee(O,O.__value),y(t,"class","settingsContainer"),_e.p(b,v,O),me.p(l,d)},m(R,G){j(R,t,G),m(t,n),m(t,r),m(t,i),m(i,l),l.checked=l.__value===e[0].playerIsFirst,m(i,u),m(t,s),m(t,f),m(f,d),d.checked=d.__value===e[0].playerIsFirst,m(f,_),m(t,$),m(t,c),m(t,h),m(t,p),m(p,b),b.checked=b.__value===e[0].botDiff,m(p,F),m(t,S),m(t,k),m(k,v),v.checked=v.__value===e[0].botDiff,m(k,w),m(t,C),m(t,D),m(D,O),O.checked=O.__value===e[0].botDiff,m(D,je),ge||(Be=[N(l,"change",e[9]),N(d,"change",e[11]),N(b,"change",e[12]),N(v,"change",e[13]),N(O,"change",e[14])],ge=!0)},p(R,G){G&1&&o!==(o=R[0].playerIsFirst===!0)&&(l.checked=o),G&1&&(l.checked=l.__value===R[0].playerIsFirst),G&1&&a!==(a=R[0].playerIsFirst===!1)&&(d.checked=a),G&1&&(d.checked=d.__value===R[0].playerIsFirst),G&1&&I!==(I=R[0].botDiff==="easy")&&(b.checked=I),G&1&&(b.checked=b.__value===R[0].botDiff),G&1&&g!==(g=R[0].botDiff==="medium")&&(v.checked=g),G&1&&(v.checked=v.__value===R[0].botDiff),G&1&&te!==(te=R[0].botDiff==="hard")&&(O.checked=te),G&1&&(O.checked=O.__value===R[0].botDiff)},d(R){R&&P(t),_e.r(),me.r(),ge=!1,J(Be)}}}function Kt(e){let t,n,r,i,l,o,u,s,f,d,a,_;function $(p,b){if(p[1]==1)return Yt;if(p[1]==3)return Ht}let c=$(e),h=c&&c(e);return{c(){t=E("div"),n=E("div"),r=E("button"),r.textContent="Single Player",i=A(),l=E("button"),l.textContent="Local Multiplayer",o=A(),u=E("button"),u.textContent="Online Multiplayer",s=A(),h&&h.c(),f=A(),d=E("button"),d.textContent="play",y(n,"class","modeButtons svelte-19th53m"),y(t,"id","container"),y(t,"class","svelte-19th53m")},m(p,b){j(p,t,b),m(t,n),m(n,r),e[5](r),m(n,i),m(n,l),m(n,o),m(n,u),m(t,s),h&&h.m(t,null),m(t,f),m(t,d),a||(_=[N(r,"click",e[6]),N(l,"click",e[7]),N(u,"click",e[8]),N(d,"click",e[19])],a=!0)},p(p,[b]){c===(c=$(p))&&h?h.p(p,b):(h&&h.d(1),h=c&&c(p),h&&(h.c(),h.m(t,f)))},i:T,o:T,d(p){p&&P(t),e[5](null),h&&h.d(),a=!1,J(_)}}}async function Vt(){return(await(await fetch("/multiplayer/create_game",{method:"POST",headers:{"Content-Type":"0"}})).json()).id}function Qt(e,t,n){let r=ce(),i={},l=1,o,u=new URLSearchParams(document.location.search),s=u.get("fir"),f=parseInt(u.get("id"),10);history.pushState(null,"",location.href.split("?")[0]),Ae(()=>{isNaN(f)?n(0,i={playerIsFirst:!0,botDiff:"easy"}):(n(0,i={id:f,playerIsFirst:s==="1"}),n(1,l=3))});function d(D){let O=window.location.href,te=`?id=${i.id}&fir=${i.playerIsFirst===!0?0:1}`;navigator.clipboard.writeText(O+te)}const a=[[],[]];function _(D){L[D?"unshift":"push"](()=>{o=D,n(2,o)})}const $=()=>{n(1,l=1),n(0,i={playerIsFirst:!0,botDiff:"easy"})},c=()=>{n(1,l=2),n(0,i={})},h=()=>{n(1,l=3),n(0,i={id:"None",playerIsFirst:!0})};function p(){i.playerIsFirst=this.__value,n(0,i)}function b(){i.playerIsFirst=this.__value,n(0,i)}function I(){i.botDiff=this.__value,n(0,i)}function F(){i.botDiff=this.__value,n(0,i)}function S(){i.botDiff=this.__value,n(0,i)}function k(){i.playerIsFirst=this.__value,n(0,i)}function v(){i.playerIsFirst=this.__value,n(0,i)}function g(){i.id=this.innerText,n(0,i)}const w=()=>{Vt().then(D=>n(0,i.id=D,i))},C=()=>r("gameStart");return e.$$.update=()=>{e.$$.dirty&3&&Ce.set({mode:l,modeSettings:i})},[i,l,o,r,d,_,$,c,h,p,a,b,I,F,S,k,v,g,w,C]}class Xt extends x{constructor(t){super(),Z(this,t,Qt,Kt,V,{})}}function Zt(e){let t,n,r,i,l,o={};n=new Pe({props:o}),e[8](n);let u={};return i=new Me({props:u}),e[9](i),i.$on("buttonClick",e[10]),{c(){t=E("div"),U(n.$$.fragment),r=A(),U(i.$$.fragment)},m(s,f){j(s,t,f),W(n,t,null),m(t,r),W(i,t,null),l=!0},p(s,[f]){const d={};n.$set(d);const a={};i.$set(a)},i(s){l||(M(n.$$.fragment,s),M(i.$$.fragment,s),l=!0)},o(s){B(n.$$.fragment,s),B(i.$$.fragment,s),l=!1},d(s){s&&P(t),e[8](null),z(n),e[9](null),z(i)}}}function xt(e,t,n){let{botDiff:r="easy"}=t,{playerIsFirst:i=!0}=t;const l=ce();let o=Array(7).fill(!1),u=Array.from({length:6},()=>Array(7).fill(0)),s=0,f,d;Ae(()=>{f.disable()});function a(k){l("gameEnd",{message:k,error:!1})}function _(k){for(let v=0;v<u.length;v++)if(u[v][k]===0)return v;return 6}function $(k){f.disable();let v=_(k);v===5&&(o[k]=!0);let g=s%2===0?1:-1;u[v][k]=g,d.placePiece(v,k,g==1?"red":"blue"),s++;let w=Oe(u);if(w!==0){a(`${w==1?"Red":"Blue"} Wins!`);return}if(w||s==42){a("Draw");return}i&&s%2==1||!i&&s%2==0?c():o.forEach((C,D)=>f.setCol(D,C))}async function c(){console.log(r);let k=Date.now(),C=(await(await fetch("/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:u,difficulty:r})})).json()).move,D=Date.now()-k;D<250?setTimeout(()=>{$(C)},250-D):$(C)}function h(){i?f.enable():(f.disable(),c())}function p(){o.fill(!1),u.forEach(k=>k.fill(0)),s=0,d.clear(),f.disable()}function b(){p(),h()}function I(k){L[k?"unshift":"push"](()=>{d=k,n(1,d)})}function F(k){L[k?"unshift":"push"](()=>{f=k,n(0,f)})}const S=k=>{$(k.detail.col)};return e.$$set=k=>{"botDiff"in k&&n(3,r=k.botDiff),"playerIsFirst"in k&&n(4,i=k.playerIsFirst)},[f,d,$,r,i,h,p,b,I,F,S]}class en extends x{constructor(t){super(),Z(this,t,xt,Zt,V,{botDiff:3,playerIsFirst:4,start:5,clear:6,restart:7})}get start(){return this.$$.ctx[5]}get clear(){return this.$$.ctx[6]}get restart(){return this.$$.ctx[7]}}function tn(e){let t,n,r,i,l,o={};n=new Pe({props:o}),e[8](n);let u={};return i=new Me({props:u}),e[9](i),i.$on("buttonClick",e[10]),{c(){t=E("div"),U(n.$$.fragment),r=A(),U(i.$$.fragment)},m(s,f){j(s,t,f),W(n,t,null),m(t,r),W(i,t,null),l=!0},p(s,[f]){const d={};n.$set(d);const a={};i.$set(a)},i(s){l||(M(n.$$.fragment,s),M(i.$$.fragment,s),l=!0)},o(s){B(n.$$.fragment,s),B(i.$$.fragment,s),l=!1},d(s){s&&P(t),e[8](null),z(n),e[9](null),z(i)}}}function nn(e,t,n){let{playerIsFirst:r=!0}=t,{gameId:i=-1}=t;const l=ce();let o=Array(7).fill(!1),u=Array.from({length:6},()=>Array(7).fill(0)),s=0,f,d;console.log("in multiplayer game control."),console.log(`player is first: ${r}`),Ae(()=>{r?f.enable():(f.disable(),h())});function a(g){l("gameEnd",{message:g,error:!1})}function _(){l("gameEnd",{error:!0})}function $(g){f.disable();let w=St(g,u);w===5&&(o[g]=!0);let C=r?1:-1;u[w][g]=C,d.placePiece(w,g,C===1?"red":"blue"),s++,c(g);let D=Oe(u);if(D!==0){a(`${D==1?"Red":"Blue"} Wins!`);return}if(s==42){a("Draw");return}h()}async function c(g){let w=await fetch("/multiplayer/make_move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_move:g,is_first:r,game_id:i})});w.ok||(console.log(await w.blob()),_()),h()}async function h(){let w=await fetch("/multiplayer/get_board",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:i,current_board:u})});w.ok||_();let D=(await w.json()).board;if(p(D),s%2===0&&r||s%2===1&&!r)for(let O=0;O<7;O++)f.setCol(O,o[O]);else console.log("BAD"),h()}function p(g){for(let w=0;w<7;w++)for(let C=0;C<6;C++)if(g[C][w]!==u[C][w]){if(u[C][w]!==0){_();return}u[C][w]=g[C][w],d.placePiece(C,w,u[C][w]===1?"red":"blue"),s++}}function b(){r?f.enable():f.disable()}function I(){o.fill(!1),u.forEach(g=>g.fill(0)),s=0,d.clear(),f.disable()}function F(){I(),b()}function S(g){L[g?"unshift":"push"](()=>{d=g,n(1,d)})}function k(g){L[g?"unshift":"push"](()=>{f=g,n(0,f)})}const v=g=>{$(g.detail.col)};return e.$$set=g=>{"playerIsFirst"in g&&n(3,r=g.playerIsFirst),"gameId"in g&&n(4,i=g.gameId)},[f,d,$,r,i,b,I,F,S,k,v]}class rn extends x{constructor(t){super(),Z(this,t,nn,tn,V,{playerIsFirst:3,gameId:4,start:5,clear:6,restart:7})}get start(){return this.$$.ctx[5]}get clear(){return this.$$.ctx[6]}get restart(){return this.$$.ctx[7]}}function X(e,{delay:t=0,duration:n=400,easing:r=Fe}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:l=>`opacity: ${l*i}`}}function Je(e){let t,n,r,i;return n=new Xt({}),n.$on("gameStart",e[6]),{c(){t=E("div"),U(n.$$.fragment)},m(l,o){j(l,t,o),W(n,t,null),i=!0},p(l,o){e=l},i(l){i||(M(n.$$.fragment,l),l&&K(()=>{i&&(r||(r=Q(t,X,{delay:e[0]?1e3:0,duration:600},!0)),r.run(1))}),i=!0)},o(l){B(n.$$.fragment,l),l&&(r||(r=Q(t,X,{delay:e[0]?1e3:0,duration:600},!1)),r.run(0)),i=!1},d(l){l&&P(t),z(n),l&&r&&r.end()}}}function He(e){let t,n;return{c(){t=E("p"),n=q(e[2])},m(r,i){j(r,t,i),m(t,n)},p(r,i){i&4&&pt(n,r[2])},d(r){r&&P(t)}}}function ln(e){let t,n,r,i,l={playerIsFirst:e[4].modeSettings.playerIsFirst,gameId:e[4].modeSettings.id};return n=new rn({props:l}),e[9](n),n.$on("gameEnd(gameEnd)",e[10]),{c(){t=E("div"),U(n.$$.fragment)},m(o,u){j(o,t,u),W(n,t,null),i=!0},p(o,u){e=o;const s={};u&16&&(s.playerIsFirst=e[4].modeSettings.playerIsFirst),u&16&&(s.gameId=e[4].modeSettings.id),n.$set(s)},i(o){i||(M(n.$$.fragment,o),o&&K(()=>{i&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!0)),r.run(1))}),i=!0)},o(o){B(n.$$.fragment,o),o&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!1)),r.run(0)),i=!1},d(o){o&&P(t),e[9](null),z(n),o&&r&&r.end()}}}function on(e){let t,n,r,i,l={};return n=new Jt({props:l}),e[8](n),n.$on("gameEnd",e[5]),{c(){t=E("div"),U(n.$$.fragment)},m(o,u){j(o,t,u),W(n,t,null),i=!0},p(o,u){e=o;const s={};n.$set(s)},i(o){i||(M(n.$$.fragment,o),o&&K(()=>{i&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!0)),r.run(1))}),i=!0)},o(o){B(n.$$.fragment,o),o&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!1)),r.run(0)),i=!1},d(o){o&&P(t),e[8](null),z(n),o&&r&&r.end()}}}function sn(e){let t,n,r,i,l={botDiff:e[4].modeSettings.botDiff,playerIsFirst:e[4].modeSettings.playerIsFirst};return n=new en({props:l}),e[7](n),n.$on("gameEnd",e[5]),{c(){t=E("div"),U(n.$$.fragment)},m(o,u){j(o,t,u),W(n,t,null),i=!0},p(o,u){e=o;const s={};u&16&&(s.botDiff=e[4].modeSettings.botDiff),u&16&&(s.playerIsFirst=e[4].modeSettings.playerIsFirst),n.$set(s)},i(o){i||(M(n.$$.fragment,o),o&&K(()=>{i&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!0)),r.run(1))}),i=!0)},o(o){B(n.$$.fragment,o),o&&(r||(r=Q(t,X,{delay:e[0]?0:1e3,duration:600},!1)),r.run(0)),i=!1},d(o){o&&P(t),e[7](null),z(n),o&&r&&r.end()}}}function un(e){let t,n,r,i,l,o,u,s,f,d,a=!e[0]&&Je(e),_=e[2]!==""&&He(e);const $=[sn,on,ln],c=[];function h(p,b){return p[1]===1&&p[0]?0:p[1]===2&&p[0]?1:p[1]===3&&p[0]?2:-1}return~(s=h(e))&&(f=c[s]=$[s](e)),{c(){t=E("head"),t.innerHTML="<title>Four In a Row</title>",n=A(),r=E("main"),i=E("h1"),i.textContent="Four In a Row",l=A(),a&&a.c(),o=A(),_&&_.c(),u=A(),f&&f.c(),y(r,"class","svelte-1dnmptc")},m(p,b){j(p,t,b),j(p,n,b),j(p,r,b),m(r,i),m(r,l),a&&a.m(r,null),m(r,o),_&&_.m(r,null),m(r,u),~s&&c[s].m(r,null),d=!0},p(p,[b]){p[0]?a&&(ve(),B(a,1,1,()=>{a=null}),Ie()):a?(a.p(p,b),b&1&&M(a,1)):(a=Je(p),a.c(),M(a,1),a.m(r,o)),p[2]!==""?_?_.p(p,b):(_=He(p),_.c(),_.m(r,u)):_&&(_.d(1),_=null);let I=s;s=h(p),s===I?~s&&c[s].p(p,b):(f&&(ve(),B(c[I],1,1,()=>{c[I]=null}),Ie()),~s?(f=c[s],f?f.p(p,b):(f=c[s]=$[s](p),f.c()),M(f,1),f.m(r,null)):f=null)},i(p){d||(M(a),M(f),d=!0)},o(p){B(a),B(f),d=!1},d(p){p&&(P(t),P(n),P(r)),a&&a.d(),_&&_.d(),~s&&c[s].d()}}}function fn(e,t,n){let r;Ke(e,Ce,c=>n(4,r=c));let i=!1,l;Ce.subscribe(c=>n(1,l=c.mode));let o="",u;function s(c){c.detail.error?n(2,o=`Error: ${c.detail.message}`):n(2,o=c.detail.message),n(0,i=!1)}const f=c=>{n(0,i=!0),u.start()};function d(c){L[c?"unshift":"push"](()=>{u=c,n(3,u)})}function a(c){L[c?"unshift":"push"](()=>{u=c,n(3,u)})}function _(c){L[c?"unshift":"push"](()=>{u=c,n(3,u)})}function $(c){bt.call(this,e,c)}return[i,l,o,u,r,s,f,d,a,_,$]}class cn extends x{constructor(t){super(),Z(this,t,fn,un,V,{})}}new cn({target:document.getElementById("app")});
