var ft=Object.defineProperty;var ct=(t,e,n)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>(ct(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function A(){}const Se=t=>t;function Le(t,e){for(const n in e)t[n]=e[n];return t}function Qe(t){return t()}function Re(){return Object.create(null)}function H(t){t.forEach(Qe)}function Me(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null){for(const r of e)r(void 0);return A}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Be(t,e,n){t.$$.on_destroy.push(dt(e,n))}function pt(t,e,n){return t.set(n),e}const Xe=typeof window<"u";let Ze=Xe?()=>window.performance.now():()=>Date.now(),Te=Xe?t=>requestAnimationFrame(t):A;const se=new Set;function xe(t){se.forEach(e=>{e.c(t)||(se.delete(e),e.f())}),se.size!==0&&Te(xe)}function et(t){let e;return se.size===0&&Te(xe),{promise:new Promise(n=>{se.add(e={c:t,f:n})}),abort(){se.delete(e)}}}function h(t,e){t.appendChild(e)}function tt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _t(t){const e=v("style");return e.textContent="/* empty */",mt(tt(t),e),e.sheet}function mt(t,e){return h(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function E(){return J(" ")}function ht(){return J("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ee(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function gt(t){return Array.from(t.childNodes)}function nt(t,e){e=""+e,t.data!==e&&(t.data=e)}function te(t,e){t.value=e??""}function rt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const he=new Map;let ge=0;function yt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function bt(t,e){const n={stylesheet:_t(e),rules:{}};return he.set(t,n),n}function Ge(t,e,n,r,i,l,o,s=0){const u=16.666/r;let f=`{
`;for(let p=0;p<=1;p+=u){const _=e+(n-e)*l(p);f+=p*100+`%{${o(_,1-_)}}
`}const c=f+`100% {${o(n,1-n)}}
}`,a=`__svelte_${yt(c)}_${s}`,d=tt(t),{stylesheet:w,rules:g}=he.get(d)||bt(d,t);g[a]||(g[a]=!0,w.insertRule(`@keyframes ${a} ${c}`,w.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${a} ${r}ms linear ${i}ms 1 both`,ge+=1,a}function kt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ge-=i,ge||wt())}function wt(){Te(()=>{ge||(he.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&D(e)}),he.clear())})}let de;function ae(t){de=t}function it(){if(!de)throw new Error("Function called outside component initialization");return de}function Ae(t){it().$$.on_mount.push(t)}function fe(){const t=it();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=rt(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const oe=[],re=[];let ue=[];const ze=[],vt=Promise.resolve();let Fe=!1;function $t(){Fe||(Fe=!0,vt.then(lt))}function Q(t){ue.push(t)}const Ce=new Set;let ie=0;function lt(){if(ie!==0)return;const t=de;do{try{for(;ie<oe.length;){const e=oe[ie];ie++,ae(e),Ct(e.$$)}}catch(e){throw oe.length=0,ie=0,e}for(ae(null),oe.length=0,ie=0;re.length;)re.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];Ce.has(n)||(Ce.add(n),n())}ue.length=0}while(oe.length);for(;ze.length;)ze.pop()();Fe=!1,Ce.clear(),ae(t)}function Ct(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function It(t){const e=[],n=[];ue.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ue=e}let ce;function Et(){return ce||(ce=Promise.resolve(),ce.then(()=>{ce=null})),ce}function Ie(t,e,n){t.dispatchEvent(rt(`${e?"intro":"outro"}${n}`))}const me=new Set;let V;function pe(){V={r:0,c:[],p:V}}function _e(){V.r||H(V.c),V=V.p}function F(t,e){t&&t.i&&(me.delete(t),t.i(e))}function M(t,e,n,r){if(t&&t.o){if(me.has(t))return;me.add(t),V.c.push(()=>{me.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Ft={duration:0};function x(t,e,n,r){let l=e(t,n,{direction:"both"}),o=r?0:1,s=null,u=null,f=null,c;function a(){f&&kt(t,f)}function d(g,k){const p=g.b-o;return k*=Math.abs(p),{a:o,b:g.b,d:p,duration:k,start:g.start,end:g.start+k,group:g.group}}function w(g){const{delay:k=0,duration:p=300,easing:_=Se,tick:m=A,css:C}=l||Ft,T={start:Ze()+k,b:g};g||(T.group=V,V.r+=1),"inert"in t&&(g?c!==void 0&&(t.inert=c):(c=t.inert,t.inert=!0)),s||u?u=T:(C&&(a(),f=Ge(t,o,g,p,k,_,C)),g&&m(0,1),s=d(T,p),Q(()=>Ie(t,g,"start")),et(B=>{if(u&&B>u.start&&(s=d(u,p),u=null,Ie(t,s.b,"start"),C&&(a(),f=Ge(t,o,s.b,s.duration,0,_,l.css))),s){if(B>=s.end)m(o=s.b,1-o),Ie(t,s.b,"end"),u||(s.b?a():--s.group.r||H(s.group.c)),s=null;else if(B>=s.start){const b=B-s.start;o=s.a+s.d*_(b/s.duration),m(o,1-o)}}return!!(s||u)}))}return{run(g){Me(l)?Et().then(()=>{l=l({direction:g?"in":"out"}),w(g)}):w(g)},end(){a(),s=u=null}}}function ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Dt(t,e){t.d(1),e.delete(t.key)}function Ot(t,e){M(t,1,1,()=>{e.delete(t.key)})}function ot(t,e,n,r,i,l,o,s,u,f,c,a){let d=t.length,w=l.length,g=d;const k={};for(;g--;)k[t[g].key]=g;const p=[],_=new Map,m=new Map,C=[];for(g=w;g--;){const $=a(i,l,g),I=n($);let O=o.get(I);O?r&&C.push(()=>O.p($,e)):(O=f(I,$),O.c()),_.set(I,p[g]=O),I in k&&m.set(I,Math.abs(g-k[I]))}const T=new Set,B=new Set;function b($){F($,1),$.m(s,c),o.set($.key,$),c=$.first,w--}for(;d&&w;){const $=p[w-1],I=t[d-1],O=$.key,R=I.key;$===I?(c=$.first,d--,w--):_.has(R)?!o.has(O)||T.has(O)?b($):B.has(R)?d--:m.get(O)>m.get(R)?(B.add(O),b($)):(T.add(R),d--):(u(I,o),d--)}for(;d--;){const $=t[d];_.has($.key)||u($,o)}for(;w;)b(p[w-1]);return H(C),p}function q(t){t&&t.c()}function G(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Q(()=>{const l=t.$$.on_mount.map(Qe).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...l):H(l),t.$$.on_mount=[]}),i.forEach(Q)}function z(t,e){const n=t.$$;n.fragment!==null&&(It(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(t,e){t.$$.dirty[0]===-1&&(oe.push(t),$t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,i,l,o=null,s=[-1]){const u=de;ae(t);const f=t.$$={fragment:null,ctx:[],props:l,update:A,not_equal:i,bound:Re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Re(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let c=!1;if(f.ctx=n?n(t,e.props||{},(a,d,...w)=>{const g=w.length?w[0]:d;return f.ctx&&i(f.ctx[a],f.ctx[a]=g)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](g),c&&St(t,a)),d}):[],f.update(),c=!0,H(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const a=gt(e.target);f.fragment&&f.fragment.l(a),a.forEach(D)}else f.fragment&&f.fragment.c();e.intro&&F(t.$$.fragment),G(t,e.target,e.anchor),lt()}ae(u)}class Z{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){z(this,1),this.$destroy=A}$on(e,n){if(!Me(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Mt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mt);function Ue(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function qe(t,e){let n,r=e[10],i,l;const o=()=>e[5](n,r),s=()=>e[5](null,r);function u(){return e[6](e[10])}return{key:t,first:null,c(){n=v("button"),y(n,"class","svelte-1bhaxd"),this.first=n},m(f,c){S(f,n,c),o(),i||(l=j(n,"click",u),i=!0)},p(f,c){e=f,r!==e[10]&&(s(),r=e[10],o())},d(f){f&&D(n),s(),i=!1,l()}}}function Bt(t){let e,n=[],r=new Map,i=ye(Array(7));const l=o=>o[10];for(let o=0;o<i.length;o+=1){let s=Ue(t,i,o),u=l(s);r.set(u,n[o]=qe(u,s))}return{c(){e=v("div");for(let o=0;o<n.length;o+=1)n[o].c();y(e,"class","svelte-1bhaxd")},m(o,s){S(o,e,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null)},p(o,[s]){s&3&&(i=ye(Array(7)),n=ot(n,s,l,1,o,i,r,e,Dt,qe,null,Ue))},i:A,o:A,d(o){o&&D(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Tt(t,e,n){const r=fe();let i=[];function l(){i.forEach(a=>a.disabled=!0)}function o(){i.forEach(a=>a.disabled=!1)}function s(a,d){a<0||a>6||n(0,i[a].disabled=d,i)}function u(a){a<0||a>6||r("buttonClick",{col:a})}function f(a,d){re[a?"unshift":"push"](()=>{i[d]=a,n(0,i)})}return[i,u,l,o,s,f,a=>u(a)]}class At extends Z{constructor(e){super(),X(this,e,Tt,Bt,Y,{disable:2,enable:3,setCol:4})}get disable(){return this.$$.ctx[2]}get enable(){return this.$$.ctx[3]}get setCol(){return this.$$.ctx[4]}}const le=[];function st(t,e=A){let n;const r=new Set;function i(s){if(Y(t,s)&&(t=s,n)){const u=!le.length;for(const f of r)f[1](),le.push(f,t);if(u){for(let f=0;f<le.length;f+=2)le[f][0](le[f+1]);le.length=0}}}function l(s){i(s(t))}function o(s,u=A){const f=[s,u];return r.add(f),r.size===1&&(n=e(i,l)||A),s(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function We(t){return Object.prototype.toString.call(t)==="[object Date]"}function Pt(t){const e=t-1;return e*e*e+1}function De(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,l)=>De(t[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(We(t)&&We(e)){t=t.getTime(),e=e.getTime();const l=e-t;return o=>new Date(t+o*l)}const r=Object.keys(e),i={};return r.forEach(l=>{i[l]=De(t[l],e[l])}),l=>{const o={};return r.forEach(s=>{o[s]=i[s](l)}),o}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Nt(t,e={}){const n=st(t);let r,i=t;function l(o,s){if(t==null)return n.set(t=o),Promise.resolve();i=o;let u=r,f=!1,{delay:c=0,duration:a=400,easing:d=Se,interpolate:w=De}=Le(Le({},e),s);if(a===0)return u&&(u.abort(),u=null),n.set(t=i),Promise.resolve();const g=Ze()+c;let k;return r=et(p=>{if(p<g)return!0;f||(k=w(t,o),typeof a=="function"&&(a=a(t,o)),f=!0),u&&(u.abort(),u=null);const _=p-g;return _>a?(n.set(t=o),!1):(n.set(t=k(d(_/a))),!0)}),r.promise}return{set:l,update:(o,s)=>l(o(i,t),s),subscribe:n.subscribe}}function jt(t){let e,n;return{c(){e=K("circle"),y(e,"cx",t[2]),y(e,"cy",t[1]),y(e,"r","45"),y(e,"fill",n=t[0]==="red"?"#E53734":"#04BEBE")},m(r,i){S(r,e,i)},p(r,[i]){i&2&&y(e,"cy",r[1]),i&1&&n!==(n=r[0]==="red"?"#E53734":"#04BEBE")&&y(e,"fill",n)},i:A,o:A,d(r){r&&D(e)}}}function Lt(t,e,n){let r,{row:i}=e,{col:l}=e,{color:o}=e,s=50+100*l,u=Nt(50,{delay:50,easing:Pt,duration:(f,c)=>Math.sqrt(Math.abs(f-c)*400)});return Be(t,u,f=>n(1,r=f)),u.set(150+100*(5-i)),t.$$set=f=>{"row"in f&&n(4,i=f.row),"col"in f&&n(5,l=f.col),"color"in f&&n(0,o=f.color)},[o,r,s,u,i,l]}class Rt extends Z{constructor(e){super(),X(this,e,Lt,jt,Y,{row:4,col:5,color:0})}}function Gt(t){let e=Ut(t);return e!==0||(e=qt(t),e!==0)||(e=Wt(t),e!==0)||(e=Jt(t)),e}function zt(t,e){for(let n=0;n<e.length;n++)if(e[n][t]===0)return n;return 6}function Ut(t){for(let e=0;e<3;e++)e:for(let n=0;n<7;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n]!==r)continue e;return r}}return 0}function qt(t){for(let e=0;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e][n+i]!==r)continue e;return r}}return 0}function Wt(t){for(let e=0;e<3;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e+i][n+i]!==r)continue e;return r}}return 0}function Jt(t){for(let e=3;e<6;e++)e:for(let n=0;n<4;n++){let r=t[e][n];if(r!==0){for(let i=1;i<4;i++)if(t[e-i][n+i]!==r)continue e;return r}}return 0}function Je(t,e,n){const r=t.slice();return r[19]=e[n].row,r[20]=e[n].col,r[21]=e[n].color,r[23]=n,r}function He(t,e){let n,r,i;return r=new Rt({props:{row:e[19],col:e[20],color:e[21]}}),{key:t,first:null,c(){n=ht(),q(r.$$.fragment),this.first=n},m(l,o){S(l,n,o),G(r,l,o),i=!0},p(l,o){e=l;const s={};o&2&&(s.row=e[19]),o&2&&(s.col=e[20]),o&2&&(s.color=e[21]),r.$set(s)},i(l){i||(F(r.$$.fragment,l),i=!0)},o(l){M(r.$$.fragment,l),i=!1},d(l){l&&D(n),z(r,l)}}}function Ht(t){let e,n,r,i,l,o,s,u=[],f=new Map,c,a,d,w,g=ye(t[1]);const k=_=>_[23];for(let _=0;_<g.length;_+=1){let m=Je(t,g,_),C=k(m);f.set(C,u[_]=He(C,m))}let p={};return d=new At({props:p}),t[9](d),d.$on("buttonClick",t[10]),{c(){e=K("svg"),n=K("defs"),r=K("pattern"),i=K("circle"),l=K("mask"),o=K("rect"),s=K("rect");for(let _=0;_<u.length;_+=1)u[_].c();c=K("rect"),a=E(),q(d.$$.fragment),y(i,"cx","50"),y(i,"cy","50"),y(i,"r","45"),y(i,"fill","black"),y(r,"id","cell-pattern"),y(r,"patternUnits","userSpaceOnUse"),y(r,"width","100"),y(r,"height","100"),y(o,"width","700"),y(o,"height","700"),y(o,"fill","white"),y(s,"width","700"),y(s,"height","700"),y(s,"fill","url(#cell-pattern)"),y(l,"id","cell-mask"),y(c,"x","0"),y(c,"y","100"),y(c,"height","600"),y(c,"width","700"),y(c,"fill","#303030"),y(c,"mask","url(#cell-mask)"),y(e,"viewBox","0 0 700 700"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"class","svelte-5r9yz0")},m(_,m){S(_,e,m),h(e,n),h(n,r),h(r,i),h(n,l),h(l,o),h(l,s);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(e,null);h(e,c),S(_,a,m),G(d,_,m),w=!0},p(_,[m]){m&2&&(g=ye(_[1]),pe(),u=ot(u,m,k,1,_,g,f,e,Ot,He,c,Je),_e());const C={};d.$set(C)},i(_){if(!w){for(let m=0;m<g.length;m+=1)F(u[m]);F(d.$$.fragment,_),w=!0}},o(_){for(let m=0;m<u.length;m+=1)M(u[m]);M(d.$$.fragment,_),w=!1},d(_){_&&(D(e),D(a));for(let m=0;m<u.length;m+=1)u[m].d();t[9](null),z(d,_)}}}function Yt(t,e,n){let r=fe(),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,s=[],u,f=!1;function c(){n(1,s=[]),i=Array(7).fill(!1),l=Array.from({length:6},()=>Array(7).fill(0)),o=0,f=!1,u.enable()}function a(){u.disable()}function d(){if(!f)for(let b=0;b<7;b++)u.setCol(b,i[b])}function w(){return l}function g(){return f}function k(b){u.disable();let $=zt(b,l);$>5&&_("Played Piece in full column"),$===5&&(i[b]=!0);let I=o%2===0?1:-1;l[$][b]=I,C($,b,I===1?"red":"blue"),o++;let O=Gt(l);if(O!==0){f=!0,p(`${O==1?"Red":"Blue"} Wins!`);return}o==42&&(f=!0,p("Draw"))}function p(b){r("gameEnd",{message:b})}function _(b=""){r("error",{message:b})}function m(b){r("playerMove",{col:b})}function C(b,$,I){n(1,s=[...s,{row:b,col:$,color:I}])}function T(b){re[b?"unshift":"push"](()=>{u=b,n(2,u)})}return[k,s,u,m,c,a,d,w,g,T,b=>{k(b.detail.col),m(b.detail.col)}]}class Pe extends Z{constructor(e){super(),X(this,e,Yt,Ht,Y,{clear:4,disableButtons:5,enableButtons:6,getBoard:7,gameOver:8,playMove:0})}get clear(){return this.$$.ctx[4]}get disableButtons(){return this.$$.ctx[5]}get enableButtons(){return this.$$.ctx[6]}get getBoard(){return this.$$.ctx[7]}get gameOver(){return this.$$.ctx[8]}get playMove(){return this.$$.ctx[0]}}function Kt(t){let e,n,r,i,l,o,s,u,f;return{c(){e=v("div"),n=v("h2"),r=J(t[0]),i=E(),l=v("button"),l.textContent="Play Again",o=E(),s=v("button"),s.textContent="Back To Menu",y(e,"id","container"),y(e,"class","svelte-1e3k5zy")},m(c,a){S(c,e,a),h(e,n),h(n,r),h(e,i),h(e,l),h(e,o),h(e,s),u||(f=[j(l,"click",t[1]),j(s,"click",t[2])],u=!0)},p(c,[a]){a&1&&nt(r,c[0])},i:A,o:A,d(c){c&&D(e),u=!1,H(f)}}}function Vt(t,e,n){let{gameText:r}=e,i=fe();function l(){i("replayClicked")}function o(){i("menuClicked")}return t.$$set=s=>{"gameText"in s&&n(0,r=s.gameText)},[r,l,o]}class Ne extends Z{constructor(e){super(),X(this,e,Vt,Kt,Y,{gameText:0})}}function Ye(t){let e,n;return e=new Ne({props:{gameText:t[2]}}),e.$on("replayClicked",t[3]),e.$on("menuClicked",t[4]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Qt(t){let e,n,r,i,l,o=t[1]&&Ye(t),s={};return n=new Pe({props:s}),t[5](n),n.$on("playerMove",t[6]),n.$on("error",t[7]),n.$on("gameEnd",t[8]),{c(){o&&o.c(),e=E(),q(n.$$.fragment),r=E(),i=v("div")},m(u,f){o&&o.m(u,f),S(u,e,f),G(n,u,f),S(u,r,f),S(u,i,f),l=!0},p(u,[f]){u[1]?o?(o.p(u,f),f&2&&F(o,1)):(o=Ye(u),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(pe(),M(o,1,1,()=>{o=null}),_e());const c={};n.$set(c)},i(u){l||(F(o),F(n.$$.fragment,u),l=!0)},o(u){M(o),M(n.$$.fragment,u),l=!1},d(u){u&&(D(e),D(r),D(i)),o&&o.d(u),t[5](null),z(n,u)}}}function Xt(t,e,n){fe();let r,i=!1,l="";function o(){n(1,i=!1),r.clear()}function s(d){ne.call(this,t,d)}function u(d){re[d?"unshift":"push"](()=>{r=d,n(0,r)})}const f=()=>r.enableButtons();function c(d){ne.call(this,t,d)}return[r,i,l,o,s,u,f,c,d=>{n(2,l=d.detail.message),n(1,i=!0)}]}class Zt extends Z{constructor(e){super(),X(this,e,Xt,Qt,Y,{})}}const be=st({mode:0,modeSettings:{}});function xt(t){let e,n,r,i,l,o,s,u,f,c,a,d,w,g,k,p,_,m,C,T,B,b,$=`?id=${t[0].id}&fir=${t[0].playerIsFirst===!0?0:1}`,I,O,R,P;return O=Ee(t[8][1]),{c(){e=v("div"),n=v("h3"),n.textContent="Choose Your Color",r=E(),i=v("label"),l=v("input"),s=J(`
        Red`),u=E(),f=v("label"),c=v("input"),d=J(`
        Blue`),w=E(),g=v("h3"),g.textContent="Game ID",k=E(),p=v("p"),_=E(),m=v("button"),m.textContent="Get ID",C=E(),T=v("button"),T.textContent="Copy URL for opponent",B=E(),b=v("span"),I=J($),l.checked=o=t[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,te(l,l.__value),c.checked=a=t[0].playerIsFirst===!1,y(c,"name","color"),y(c,"type","radio"),c.__value=!1,te(c,c.__value),y(p,"contenteditable","false"),t[0].id===void 0&&Q(()=>t[15].call(p)),y(e,"class","settingsContainer"),O.p(l,c)},m(N,W){S(N,e,W),h(e,n),h(e,r),h(e,i),h(i,l),l.checked=l.__value===t[0].playerIsFirst,h(i,s),h(e,u),h(e,f),h(f,c),c.checked=c.__value===t[0].playerIsFirst,h(f,d),h(e,w),h(e,g),h(e,k),h(e,p),t[0].id!==void 0&&(p.innerText=t[0].id),h(e,_),h(e,m),h(e,C),h(e,T),h(e,B),h(e,b),h(b,I),R||(P=[j(l,"change",t[13]),j(c,"change",t[14]),j(p,"input",t[15]),j(m,"click",t[16]),j(T,"click",t[2])],R=!0)},p(N,W){W&1&&o!==(o=N[0].playerIsFirst===!0)&&(l.checked=o),W&1&&(l.checked=l.__value===N[0].playerIsFirst),W&1&&a!==(a=N[0].playerIsFirst===!1)&&(c.checked=a),W&1&&(c.checked=c.__value===N[0].playerIsFirst),W&1&&N[0].id!==p.innerText&&(p.innerText=N[0].id),W&1&&$!==($=`?id=${N[0].id}&fir=${N[0].playerIsFirst===!0?0:1}`)&&nt(I,$)},d(N){N&&D(e),O.r(),R=!1,H(P)}}}function en(t){let e,n,r,i,l,o,s,u,f,c,a,d,w,g,k,p,_,m,C,T,B,b,$,I,O,R,P,N,W,ke,we,ve,je;return ke=Ee(t[8][0]),we=Ee(t[8][1]),{c(){e=v("div"),n=v("h3"),n.textContent="Choose Your Color",r=E(),i=v("label"),l=v("input"),s=J(`
        Red`),u=E(),f=v("label"),c=v("input"),d=J(`
        Blue`),w=E(),g=v("h3"),g.textContent="AI Difficulty",k=E(),p=v("label"),_=v("input"),C=J(`
        Easy`),T=E(),B=v("label"),b=v("input"),I=J(`
        Medium`),O=E(),R=v("label"),P=v("input"),W=J(`
        Hard`),l.checked=o=t[0].playerIsFirst===!0,y(l,"name","color"),y(l,"type","radio"),l.__value=!0,te(l,l.__value),c.checked=a=t[0].playerIsFirst===!1,y(c,"name","color"),y(c,"type","radio"),c.__value=!1,te(c,c.__value),_.checked=m=t[0].botDiff==="easy",y(_,"name","AiDifficulty"),y(_,"type","radio"),_.__value="easy",te(_,_.__value),b.checked=$=t[0].botDiff==="medium",y(b,"name","AiDifficulty"),y(b,"type","radio"),b.__value="medium",te(b,b.__value),P.checked=N=t[0].botDiff==="hard",y(P,"name","AiDifficulty"),y(P,"type","radio"),P.__value="hard",te(P,P.__value),y(e,"class","settingsContainer"),ke.p(_,b,P),we.p(l,c)},m(L,U){S(L,e,U),h(e,n),h(e,r),h(e,i),h(i,l),l.checked=l.__value===t[0].playerIsFirst,h(i,s),h(e,u),h(e,f),h(f,c),c.checked=c.__value===t[0].playerIsFirst,h(f,d),h(e,w),h(e,g),h(e,k),h(e,p),h(p,_),_.checked=_.__value===t[0].botDiff,h(p,C),h(e,T),h(e,B),h(B,b),b.checked=b.__value===t[0].botDiff,h(B,I),h(e,O),h(e,R),h(R,P),P.checked=P.__value===t[0].botDiff,h(R,W),ve||(je=[j(l,"change",t[7]),j(c,"change",t[9]),j(_,"change",t[10]),j(b,"change",t[11]),j(P,"change",t[12])],ve=!0)},p(L,U){U&1&&o!==(o=L[0].playerIsFirst===!0)&&(l.checked=o),U&1&&(l.checked=l.__value===L[0].playerIsFirst),U&1&&a!==(a=L[0].playerIsFirst===!1)&&(c.checked=a),U&1&&(c.checked=c.__value===L[0].playerIsFirst),U&1&&m!==(m=L[0].botDiff==="easy")&&(_.checked=m),U&1&&(_.checked=_.__value===L[0].botDiff),U&1&&$!==($=L[0].botDiff==="medium")&&(b.checked=$),U&1&&(b.checked=b.__value===L[0].botDiff),U&1&&N!==(N=L[0].botDiff==="hard")&&(P.checked=N),U&1&&(P.checked=P.__value===L[0].botDiff)},d(L){L&&D(e),ke.r(),we.r(),ve=!1,H(je)}}}function tn(t){let e,n,r,i,l,o,s,u,f,c,a,d;function w(p,_){if(p[1]==1)return en;if(p[1]==3)return xt}let g=w(t),k=g&&g(t);return{c(){e=v("div"),n=v("div"),r=v("button"),r.textContent="Single Player",i=E(),l=v("button"),l.textContent="Local Multiplayer",o=E(),s=v("button"),s.textContent="Online Multiplayer",u=E(),k&&k.c(),f=E(),c=v("button"),c.textContent="Play",y(n,"class","modeButtons svelte-19th53m"),y(e,"id","container"),y(e,"class","svelte-19th53m")},m(p,_){S(p,e,_),h(e,n),h(n,r),h(n,i),h(n,l),h(n,o),h(n,s),h(e,u),k&&k.m(e,null),h(e,f),h(e,c),a||(d=[j(r,"click",t[4]),j(l,"click",t[5]),j(s,"click",t[6]),j(c,"click",t[3])],a=!0)},p(p,[_]){g===(g=w(p))&&k?k.p(p,_):(k&&k.d(1),k=g&&g(p),k&&(k.c(),k.m(e,f)))},i:A,o:A,d(p){p&&D(e),k&&k.d(),a=!1,H(d)}}}async function nn(){return(await(await fetch("/multiplayer/create_game",{method:"POST",headers:{"Content-Type":"0"}})).json()).id}function rn(t,e,n){let r;Be(t,be,I=>n(17,r=I));let i={};i={playerIsFirst:!0,botDiff:"easy"};let l=1,o=new URLSearchParams(document.location.search),s=o.get("fir"),u=parseInt(o.get("id"),10);history.pushState(null,"",location.href.split("?")[0]),Ae(()=>{isNaN(u)?n(0,i={playerIsFirst:!0,botDiff:"easy"}):(n(0,i={id:u,playerIsFirst:s==="1"}),n(1,l=3))});function f(){let I=window.location.href,O=`?id=${i.id}&fir=${i.playerIsFirst===!0?0:1}`;navigator.clipboard.writeText(I+O)}function c(){pt(be,r={mode:l,modeSettings:i},r)}const a=[[],[]],d=()=>{n(1,l=1),n(0,i={playerIsFirst:!0,botDiff:"easy"})},w=()=>{n(1,l=2),n(0,i={})},g=()=>{n(1,l=3),n(0,i={id:"None",playerIsFirst:!0})};function k(){i.playerIsFirst=this.__value,n(0,i)}function p(){i.playerIsFirst=this.__value,n(0,i)}function _(){i.botDiff=this.__value,n(0,i)}function m(){i.botDiff=this.__value,n(0,i)}function C(){i.botDiff=this.__value,n(0,i)}function T(){i.playerIsFirst=this.__value,n(0,i)}function B(){i.playerIsFirst=this.__value,n(0,i)}function b(){i.id=this.innerText,n(0,i)}return[i,l,f,c,d,w,g,k,a,p,_,m,C,T,B,b,()=>{nn().then(I=>n(0,i.id=I,i))}]}class ln extends Z{constructor(e){super(),X(this,e,rn,tn,Y,{})}}function Ke(t){let e,n;return e=new Ne({props:{gameText:t[1]}}),e.$on("replayClicked",t[6]),e.$on("menuClicked",t[7]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&2&&(l.gameText=r[1]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function on(t){let e,n,r,i=t[0]&&Ke(t),l={};return n=new Pe({props:l}),t[8](n),n.$on("playerMove",t[3]),n.$on("error",t[9]),n.$on("gameEnd",t[10]),{c(){i&&i.c(),e=E(),q(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),G(n,o,s),r=!0},p(o,[s]){o[0]?i?(i.p(o,s),s&1&&F(i,1)):(i=Ke(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),_e());const u={};n.$set(u)},i(o){r||(F(i),F(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[8](null),z(n,o)}}}function sn(t,e,n){let{botDiff:r="easy"}=e,{playerIsFirst:i=!0}=e,l=fe(),o=!1,s="",u;Ae(()=>{i||u.disableButtons()});async function f(){let p=await fetch("/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:u.getBoard(),difficulty:r})});if(!p.ok){console.log("Could not get AI move from server"),c("Could not get AI move from server");return}let m=(await p.json()).move;u.playMove(m),u.enableButtons()}function c(p=""){l("error",{message:p})}const a=()=>{n(0,o=!1),u.clear()};function d(p){ne.call(this,t,p)}function w(p){re[p?"unshift":"push"](()=>{u=p,n(2,u)})}function g(p){ne.call(this,t,p)}const k=p=>{n(1,s=p.detail.message),n(0,o=!0)};return t.$$set=p=>{"botDiff"in p&&n(4,r=p.botDiff),"playerIsFirst"in p&&n(5,i=p.playerIsFirst)},[o,s,u,f,r,i,a,d,w,g,k]}class un extends Z{constructor(e){super(),X(this,e,sn,on,Y,{botDiff:4,playerIsFirst:5})}}function Ve(t){let e,n;return e=new Ne({props:{gameText:t[2]}}),e.$on("replayClicked",t[7]),e.$on("menuClicked",t[8]),{c(){q(e.$$.fragment)},m(r,i){G(e,r,i),n=!0},p(r,i){const l={};i&4&&(l.gameText=r[2]),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function fn(t){let e,n,r,i=t[1]&&Ve(t),l={};return n=new Pe({props:l}),t[9](n),n.$on("playerMove",t[10]),n.$on("error",t[11]),n.$on("gameEnd",t[12]),{c(){i&&i.c(),e=E(),q(n.$$.fragment)},m(o,s){i&&i.m(o,s),S(o,e,s),G(n,o,s),r=!0},p(o,[s]){o[1]?i?(i.p(o,s),s&2&&F(i,1)):(i=Ve(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(pe(),M(i,1,1,()=>{i=null}),_e());const u={};n.$set(u)},i(o){r||(F(i),F(n.$$.fragment,o),r=!0)},o(o){M(i),M(n.$$.fragment,o),r=!1},d(o){o&&D(e),i&&i.d(o),t[9](null),z(n,o)}}}function Oe(t,e){let n=[];for(let r=0;r<7;r++)for(let i=0;i<6;i++)if(e[i][r]!==t[i][r]){if(t[i][r]!==0)return[];n.push(r)}return n}function cn(t,e,n){let{playerIsFirst:r=!0}=e,{gameId:i=-1}=e;const l=fe();let o,s=!1,u="";console.log(r),console.log(i),Ae(()=>{r?o.enableButtons():(o.disableButtons(),a())});function f(m=""){l("error",{message:m})}async function c(m){let C=await fetch("/multiplayer/make_move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_move:m,is_first:r,game_id:i})});C.ok||(console.log(await C.blob()),f("Could not get opponent move")),o.gameOver()||a()}async function a(){let m=await fetch("/multiplayer/get_board",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:i,current_board:o.getBoard()})});if(!m.ok){f("Could not get opponents move");return}let T=(await m.json()).board,B=Oe(o.getBoard(),T);if(B.length!==1){f("Unexpected moves from server");return}o.playMove(B[0]),o.enableButtons()}const d=()=>{n(1,s=!1),o.clear()};function w(m){ne.call(this,t,m)}function g(m){re[m?"unshift":"push"](()=>{o=m,n(0,o)})}const k=m=>c(m.detail.col);function p(m){ne.call(this,t,m)}const _=m=>{n(2,u=m.detail.message),n(1,s=!0)};return t.$$set=m=>{"playerIsFirst"in m&&n(4,r=m.playerIsFirst),"gameId"in m&&n(5,i=m.gameId)},[o,s,u,c,r,i,Oe,d,w,g,k,p,_]}class an extends Z{constructor(e){super(),X(this,e,cn,fn,Y,{playerIsFirst:4,gameId:5,extractNewMoves:6})}get extractNewMoves(){return Oe}}function ee(t,{delay:e=0,duration:n=400,easing:r=Se}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:l=>`opacity: ${l*i}`}}function dn(t){let e,n,r,i;return n=new an({props:{playerIsFirst:t[0].modeSettings.playerIsFirst,gameId:t[0].modeSettings.id}}),n.$on("menuClicked",t[1]),n.$on("gameEnd(gameEnd)",t[2]),{c(){e=v("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),o&1&&(s.gameId=l[0].modeSettings.id),n.$set(s)},i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function pn(t){let e,n,r,i;return n=new Zt({}),n.$on("error",ut),n.$on("menuClicked",t[1]),{c(){e=v("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p:A,i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function _n(t){let e,n,r,i;return n=new un({props:{botDiff:t[0].modeSettings.botDiff,playerIsFirst:t[0].modeSettings.playerIsFirst}}),n.$on("error",ut),n.$on("menuClicked",t[1]),{c(){e=v("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p(l,o){const s={};o&1&&(s.botDiff=l[0].modeSettings.botDiff),o&1&&(s.playerIsFirst=l[0].modeSettings.playerIsFirst),n.$set(s)},i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function mn(t){let e,n,r,i;return n=new ln({}),{c(){e=v("div"),q(n.$$.fragment)},m(l,o){S(l,e,o),G(n,e,null),i=!0},p:A,i(l){i||(F(n.$$.fragment,l),l&&Q(()=>{i&&(r||(r=x(e,ee,{delay:300,duration:600},!0)),r.run(1))}),i=!0)},o(l){M(n.$$.fragment,l),l&&(r||(r=x(e,ee,{delay:300,duration:600},!1)),r.run(0)),i=!1},d(l){l&&D(e),z(n),l&&r&&r.end()}}}function hn(t){let e,n,r,i,l,o,s,u;const f=[mn,_n,pn,dn],c=[];function a(d,w){return d[0].mode===0?0:d[0].mode===1?1:d[0].mode===2?2:d[0].mode===3?3:-1}return~(o=a(t))&&(s=c[o]=f[o](t)),{c(){e=v("head"),e.innerHTML="<title>Four In a Row</title>",n=E(),r=v("main"),i=v("h1"),i.textContent="Four In a Row",l=E(),s&&s.c(),y(r,"class","svelte-1dnmptc")},m(d,w){S(d,e,w),S(d,n,w),S(d,r,w),h(r,i),h(r,l),~o&&c[o].m(r,null),u=!0},p(d,[w]){let g=o;o=a(d),o===g?~o&&c[o].p(d,w):(s&&(pe(),M(c[g],1,1,()=>{c[g]=null}),_e()),~o?(s=c[o],s?s.p(d,w):(s=c[o]=f[o](d),s.c()),F(s,1),s.m(r,null)):s=null)},i(d){u||(F(s),u=!0)},o(d){M(s),u=!1},d(d){d&&(D(e),D(n),D(r)),~o&&c[o].d()}}}function ut(t){console.error(t.detail.message),alert("Error: Page will be refreshed"),location.reload()}function gn(t,e,n){let r;Be(t,be,o=>n(0,r=o));function i(){be.set({mode:0,modeSettings:{}})}function l(o){ne.call(this,t,o)}return[r,i,l]}class yn extends Z{constructor(e){super(),X(this,e,gn,hn,Y,{})}}new yn({target:document.getElementById("app")});
